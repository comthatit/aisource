<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIì™€ ë‚˜ì˜ ì±…ì„</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .bounce { animation: bounce 0.5s ease; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useRef } = React;
        const MAX_SCORE = 200; // ë¬¸ì œ ì¦ê°€(150->200)ì— ë”°ë¥¸ ì´ì  ì¡°ì •

        function AIResponsibility() {
            const [stage, setStage] = useState(0);
            const [totalScore, setTotalScore] = useState(0);
            const [stage1Score, setStage1Score] = useState(0);
            const [stage4Score, setStage4Score] = useState(0);
            const [completedStages, setCompletedStages] = useState({
                stage1: false, stage2: false, stage3: false, stage4: false, stage5: false
            });
            
            const goToStage = (stageNum) => setStage(stageNum);

            const markStageComplete = (stageKey) => {
                setCompletedStages(prev => ({ ...prev, [stageKey]: true }));
            };

            const stages = [
                { component: IntroStage },
                { component: Stage1 },
                { component: Stage2 },
                { component: Stage3 },
                { component: Stage4 },
                { component: Stage5 }
            ];
            const CurrentComponent = stages[stage].component;

            return (
                <div className="min-h-screen py-8 px-4">
                    <div className="max-w-5xl mx-auto">
                        <div className="text-center mb-6 fade-in">
                            <h1 className="text-4xl md:text-5xl font-bold text-white mb-4">ğŸ¤ AIì™€ ë‚˜ì˜ ì±…ì„</h1>
                            <p className="text-xl text-white opacity-90">ì±…ì„ê° ìˆëŠ” AI ì‚¬ìš©ë²• ë°°ìš°ê¸°</p>
                        </div>
                        {stage > 0 && stage <= 5 && (
                            <div className="mb-6 no-print">
                                <div className="bg-white bg-opacity-20 rounded-2xl p-4 backdrop-blur-sm mb-4">
                                    <div className="flex justify-between items-center">
                                        <div className="text-white font-bold text-lg">
                                            ğŸ† ì ìˆ˜: <span className="text-yellow-300 text-2xl">{totalScore}</span> / {MAX_SCORE}ì 
                                        </div>
                                        <div className="text-white font-bold text-lg">ğŸ“ {stage}/5 ë‹¨ê³„</div>
                                    </div>
                                </div>
                                <div className="bg-white bg-opacity-20 rounded-2xl p-4 backdrop-blur-sm">
                                    <div className="flex justify-around items-center">
                                        {['ìƒí™© íŒë‹¨', 'ì›ì¹™ í•™ìŠµ', 'ì²´í¬ë¦¬ìŠ¤íŠ¸', 'ì´í•´ë„ ì ê²€', 'ê²°ê³¼ í™•ì¸'].map((title, idx) => {
                                            const stageNum = idx + 1;
                                            const isCurrentStage = stageNum === stage;
                                            const isCompleted = completedStages[`stage${stageNum}`];
                                            const canAccess = stageNum <= stage;
                                            
                                            return (
                                                <button key={idx} onClick={() => canAccess && goToStage(stageNum)}
                                                    disabled={!canAccess}
                                                    className={`flex flex-col items-center px-2 py-2 rounded-xl transition-all duration-300 ${
                                                        isCurrentStage ? 'bg-purple-500 text-white scale-110'
                                                        : isCompleted ? 'bg-lime-400 text-white hover:scale-105'
                                                        : canAccess ? 'bg-white bg-opacity-30 text-white hover:scale-105'
                                                        : 'bg-white bg-opacity-10 text-white opacity-50 cursor-not-allowed'
                                                    }`}>
                                                    <div className="text-lg mb-1">
                                                        {isCompleted ? 'âœ“' : isCurrentStage ? 'â–¶' : stageNum}
                                                    </div>
                                                    <div className="text-xs font-bold">{title}</div>
                                                </button>
                                            );
                                        })}
                                    </div>
                                </div>
                            </div>
                        )}
                        <CurrentComponent
                            goToStage={goToStage} 
                            totalScore={totalScore}
                            setTotalScore={setTotalScore}
                            stage1Score={stage1Score}
                            setStage1Score={setStage1Score}
                            stage4Score={stage4Score}
                            setStage4Score={setStage4Score}
                            markStageComplete={markStageComplete}
                        />
                    </div>
                </div>
            );
        }

        function IntroStage({ goToStage }) {
            return (
                <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                    <div className="text-center mb-8">
                        <div className="text-6xl mb-6 bounce">ğŸ¤</div>
                        <h2 className="text-3xl font-bold text-gray-800 mb-4">AIì™€ í•¨ê»˜í•˜ëŠ” ì±…ì„ê° ìˆëŠ” ë¯¸ë˜</h2>
                        <p className="text-lg text-gray-600 leading-relaxed mb-6">
                            AIëŠ” ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠëƒì— ë”°ë¼<br/>
                            ê¸ì •ì ì¸ ì˜í–¥ê³¼ ë¶€ì •ì ì¸ ì˜í–¥ì„ ëª¨ë‘ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br/>
                            í•¨ê»˜ ì±…ì„ê° ìˆëŠ” AI ì‚¬ìš©ë²•ì„ ë°°ì›Œë´…ì‹œë‹¤!
                        </p>
                    </div>

                    <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 mb-8 border-2 border-purple-200">
                        <h3 className="text-xl font-bold text-purple-800 mb-4">ğŸ¯ í•™ìŠµ ëª©í‘œ</h3>
                        <div className="space-y-3 text-left">
                            <div className="flex items-start">
                                <span className="text-2xl mr-3">âš–ï¸</span>
                                <p className="text-gray-700 flex-1">AI ì‚¬ìš© ìƒí™©ì—ì„œ <span className="font-bold">ìœ¤ë¦¬ì  íŒë‹¨</span>ì„ ë‚´ë¦´ ìˆ˜ ìˆë‹¤</p>
                            </div>
                            <div className="flex items-start">
                                <span className="text-2xl mr-3">ğŸ›¡ï¸</span>
                                <p className="text-gray-700 flex-1">AI ì‚¬ìš© ì‹œ <span className="font-bold">ì±…ì„ì˜ ë²”ìœ„</span>ë¥¼ ì´í•´í•  ìˆ˜ ìˆë‹¤</p>
                            </div>
                            <div className="flex items-start">
                                <span className="text-2xl mr-3">âœ…</span>
                                <p className="text-gray-700 flex-1"><span className="font-bold">ì‹¤ì²œ ê°€ëŠ¥í•œ ê°€ì´ë“œë¼ì¸</span>ì„ ìŠµë“í•  ìˆ˜ ìˆë‹¤</p>
                            </div>
                        </div>
                    </div>

                    <div className="bg-gradient-to-r from-blue-50 to-cyan-50 rounded-2xl p-6 mb-8 border-2 border-blue-200">
                        <h3 className="text-xl font-bold text-blue-800 mb-4">ğŸ—ºï¸ í•™ìŠµ ê³¼ì •</h3>
                        <div className="grid md:grid-cols-5 gap-3">
                            {[
                                { icon: 'âš–ï¸', title: '1ë‹¨ê³„', desc: 'ìƒí™© íŒë‹¨' },
                                { icon: 'ğŸ“š', title: '2ë‹¨ê³„', desc: 'ì›ì¹™ í•™ìŠµ' },
                                { icon: 'âœ…', title: '3ë‹¨ê³„', desc: 'ì²´í¬ë¦¬ìŠ¤íŠ¸' },
                                { icon: 'ğŸ¯', title: '4ë‹¨ê³„', desc: 'ì´í•´ë„ ì ê²€' },
                                { icon: 'ğŸ†', title: '5ë‹¨ê³„', desc: 'ê²°ê³¼ í™•ì¸' }
                            ].map((step, idx) => (
                                <div key={idx} className="bg-white rounded-xl p-3 text-center">
                                    <div className="text-2xl mb-1">{step.icon}</div>
                                    <div className="font-bold text-gray-800 text-xs mb-1">{step.title}</div>
                                    <div className="text-xs text-gray-600">{step.desc}</div>
                                </div>
                            ))}
                        </div>
                    </div>

                    <button onClick={() => goToStage(1)}
                        className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xl font-bold py-5 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all">
                        ğŸ¯ í•™ìŠµ ì‹œì‘í•˜ê¸°
                    </button>
                </div>
            );
        }

        function Stage1({ goToStage, setStage1Score, setTotalScore, markStageComplete }) {
            const [currentScenario, setCurrentScenario] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [showFeedback, setShowFeedback] = useState(false);
            const [earnedScore, setEarnedScore] = useState(0);

            const scenarios = [
                {
                    id: 's1',
                    situation: 'í•™êµ ê³¼ì œë¡œ "ê¸°í›„ë³€í™”ì˜ ì˜í–¥" ë³´ê³ ì„œë¥¼ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. AIì—ê²Œ ì „ì²´ ë³´ê³ ì„œë¥¼ ì‘ì„±í•˜ë„ë¡ ìš”ì²­í•˜ê³ , ê·¸ëŒ€ë¡œ ì œì¶œí–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: false },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: true }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIê°€ ì‘ì„±í•œ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ì œì¶œí•˜ëŠ” ê²ƒì€ í‘œì ˆì— í•´ë‹¹í•˜ë©°, í•™ìŠµ ê¸°íšŒë¥¼ ë†“ì¹˜ê²Œ ë©ë‹ˆë‹¤. AIëŠ” ì°¸ê³  ìë£Œë¡œë§Œ í™œìš©í•˜ê³ , ìì‹ ì˜ ìƒê°ê³¼ ë¶„ì„ì„ ë‹´ì•„ì•¼ í•©ë‹ˆë‹¤.',
                    wrongExplanation: 'ì•„ì‰½ìŠµë‹ˆë‹¤. AIê°€ ì‘ì„±í•œ ë‚´ìš©ì„ ìì‹ ì˜ ê²ƒì²˜ëŸ¼ ì œì¶œí•˜ëŠ” ê²ƒì€ í‘œì ˆì…ë‹ˆë‹¤. AIëŠ” ì•„ì´ë””ì–´ë¥¼ ì–»ê±°ë‚˜ ì´ˆì•ˆì„ ì‘ì„±í•˜ëŠ” ë° ë„ì›€ì„ ì¤„ ìˆ˜ ìˆì§€ë§Œ, ìµœì¢… ê²°ê³¼ë¬¼ì€ ìì‹ ì˜ ì´í•´ì™€ ìƒê°ì´ ë‹´ê²¨ì•¼ í•©ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's2',
                    situation: 'ì¹œêµ¬ê°€ ìˆ˜í•™ ë¬¸ì œë¥¼ ì–´ë ¤ì›Œí•˜ê³  ìˆìŠµë‹ˆë‹¤. AIì—ê²Œ ë¬¸ì œë¥¼ ì…ë ¥í•˜ê³  í’€ì´ ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ì„¤ëª…í•´ë‹¬ë¼ê³  ìš”ì²­í•œ í›„, ì¹œêµ¬ì™€ í•¨ê»˜ ë³´ë©° ì›ë¦¬ë¥¼ ì´í•´í•˜ë„ë¡ ë„ì™€ì£¼ì—ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: true },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: false }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIë¥¼ í•™ìŠµ ë„êµ¬ë¡œ í™œìš©í•˜ì—¬ ê°œë…ì„ ì´í•´í•˜ëŠ” ë° ë„ì›€ì„ ë°›ëŠ” ê²ƒì€ ì±…ì„ê° ìˆëŠ” ì‚¬ìš©ì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ë‹µë§Œ ë³µì‚¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í’€ì´ ê³¼ì •ì„ í•¨ê»˜ í•™ìŠµí–ˆë‹¤ëŠ” ì ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.',
                    wrongExplanation: 'ì´ ê²½ìš°ëŠ” ê´œì°®ìŠµë‹ˆë‹¤! AIë¥¼ ë‹¨ìˆœíˆ ë‹µì„ ì–»ê¸° ìœ„í•œ ë„êµ¬ê°€ ì•„ë‹ˆë¼, í•™ìŠµê³¼ ì´í•´ë¥¼ ë•ëŠ” ì„ ìƒë‹˜ì²˜ëŸ¼ í™œìš©í–ˆìŠµë‹ˆë‹¤. í’€ì´ ê³¼ì •ì„ í•¨ê»˜ ë³´ë©° ì›ë¦¬ë¥¼ ì´í•´í–ˆë‹¤ë©´ ì˜¬ë°”ë¥¸ AI í™œìš©ì…ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's3',
                    situation: 'ì˜¨ë¼ì¸ ì‡¼í•‘ëª°ì—ì„œ êµ¬ë§¤í•œ ì œí’ˆì´ ë§ˆìŒì— ë“¤ì§€ ì•Šì•„ ë¶€ì •ì ì¸ ë¦¬ë·°ë¥¼ ë‚¨ê¸°ë ¤ê³  í•©ë‹ˆë‹¤. AIì—ê²Œ "ì´ ì œí’ˆì„ ë¹„ë‚œí•˜ëŠ” ì•…ì˜ì ì¸ ë¦¬ë·°ë¥¼ ì‘ì„±í•´ì¤˜"ë¼ê³  ìš”ì²­í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: false },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: true }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIë¥¼ ì´ìš©í•´ ì•…ì˜ì ì´ê±°ë‚˜ ê³¼ì¥ëœ ë‚´ìš©ì„ ìƒì„±í•˜ëŠ” ê²ƒì€ íƒ€ì¸ì—ê²Œ í”¼í•´ë¥¼ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¦¬ë·°ëŠ” ì •ì§í•˜ê³  ê°ê´€ì ìœ¼ë¡œ ì‘ì„±í•´ì•¼ í•˜ë©°, AIë¥¼ ë¶€ì •ì  ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.',
                    wrongExplanation: 'ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. AIë¥¼ ì‚¬ìš©í•´ ì•…ì˜ì ì´ê±°ë‚˜ ê³¼ì¥ëœ ì½˜í…ì¸ ë¥¼ ë§Œë“œëŠ” ê²ƒì€ ë‹¤ë¥¸ ì†Œë¹„ìì™€ íŒë§¤ì ëª¨ë‘ì—ê²Œ í”¼í•´ë¥¼ ì¤ë‹ˆë‹¤. ë¶ˆë§Œì´ ìˆë‹¤ë©´ ì‚¬ì‹¤ì— ê¸°ë°˜í•œ ì •ì§í•œ í”¼ë“œë°±ì„ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's4',
                    situation: 'ì˜ì–´ ì´ë©”ì¼ì„ ì‘ì„±í•´ì•¼ í•˜ëŠ”ë° ìì‹ ì´ ì—†ìŠµë‹ˆë‹¤. í•œêµ­ì–´ë¡œ ì´ˆì•ˆì„ ì‘ì„±í•œ í›„, AIì—ê²Œ ì˜ì–´ë¡œ ë²ˆì—­í•˜ê³  ë¬¸ë²•ì„ ë‹¤ë“¬ì–´ë‹¬ë¼ê³  ìš”ì²­í–ˆìŠµë‹ˆë‹¤. AIì˜ ê²°ê³¼ë¥¼ ê²€í† í•˜ê³  ëª‡ ê°€ì§€ í‘œí˜„ì„ ìˆ˜ì •í•œ í›„ ë°œì†¡í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: true },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: false }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! ìì‹ ì˜ ìƒê°ì„ ë‹´ì€ ì´ˆì•ˆì„ ì‘ì„±í•˜ê³ , AIë¥¼ ë²ˆì—­ê³¼ ë¬¸ë²• ê°œì„  ë„êµ¬ë¡œ í™œìš©í–ˆìŠµë‹ˆë‹¤. ìµœì¢…ì ìœ¼ë¡œ ë‚´ìš©ì„ ê²€í† í•˜ê³  ìˆ˜ì •í•œ ê²ƒë„ ì±…ì„ê° ìˆëŠ” íƒœë„ì…ë‹ˆë‹¤.',
                    wrongExplanation: 'ì´ ê²½ìš°ëŠ” ê´œì°®ìŠµë‹ˆë‹¤! AIë¥¼ ì–¸ì–´ ì¥ë²½ì„ ê·¹ë³µí•˜ëŠ” ë„êµ¬ë¡œ ì ì ˆíˆ í™œìš©í–ˆìŠµë‹ˆë‹¤. ìì‹ ì˜ ìƒê°ì„ ë¨¼ì € ì •ë¦¬í–ˆê³ , AIì˜ ê²°ê³¼ë¥¼ ê²€í† í•˜ì—¬ ìµœì¢… í™•ì¸í–ˆë‹¤ëŠ” ì ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's5',
                    situation: 'SNSì— ì˜¬ë¦´ ê¸€ì„ ì‘ì„± ì¤‘ì…ë‹ˆë‹¤. AIì—ê²Œ "íŠ¹ì • ì •ì¹˜ì¸ì„ ë¹„ë°©í•˜ëŠ” ê°€ì§œ ë‰´ìŠ¤ë¥¼ ê·¸ëŸ´ë“¯í•˜ê²Œ ë§Œë“¤ì–´ì¤˜"ë¼ê³  ìš”ì²­í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: false },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: true }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! ê°€ì§œ ë‰´ìŠ¤ë‚˜ í—ˆìœ„ ì •ë³´ë¥¼ ìƒì„±í•˜ê³  ìœ í¬í•˜ëŠ” ê²ƒì€ ì‹¬ê°í•œ ë¬¸ì œì…ë‹ˆë‹¤. ì´ëŠ” íƒ€ì¸ì˜ ëª…ì˜ˆë¥¼ í›¼ì†í•˜ê³  ì‚¬íšŒì— í˜¼ë€ì„ ì•¼ê¸°í•  ìˆ˜ ìˆìœ¼ë©°, ë²•ì  ì±…ì„ì„ ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                    wrongExplanation: 'ì‹¬ê°í•œ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤! ê°€ì§œ ë‰´ìŠ¤ë‚˜ í—ˆìœ„ ì •ë³´ë¥¼ ë§Œë“¤ê³  í¼ëœ¨ë¦¬ëŠ” ê²ƒì€ ë²•ì ìœ¼ë¡œë„ ì²˜ë²Œë°›ì„ ìˆ˜ ìˆëŠ” í–‰ìœ„ì…ë‹ˆë‹¤. AIë¥¼ ì´ëŸ° ë¶€ì •ì ì¸ ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•´ì„œëŠ” ì ˆëŒ€ ì•ˆ ë©ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's6',
                    situation: 'ì½”ë”© ë™ì•„ë¦¬ í”„ë¡œì íŠ¸ ì¤‘ ì–´ë ¤ìš´ ì½”ë“œë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. AIì—ê²Œ í•´ë‹¹ ì½”ë“œì˜ êµ¬ì¡°ë¥¼ ë¶„ì„í•´ë‹¬ë¼ê³  í•˜ê³ , ì´í•´ë˜ì§€ ì•ŠëŠ” ì¤„ë§ˆë‹¤ ì£¼ì„ì„ ë‹¬ì•„ë‹¬ë¼ê³  ìš”ì²­í•˜ì—¬ ê³µë¶€í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: true },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: false }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIë¥¼ ì§€ì‹ ìŠµë“ê³¼ í•™ìŠµ ë³´ì¡° ë„êµ¬ë¡œ ì‚¬ìš©í•˜ëŠ” ì•„ì£¼ ì¢‹ì€ ì‚¬ë¡€ì…ë‹ˆë‹¤. ë³µì¡í•œ ë…¼ë¦¬ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ AIì˜ ë¶„ì„ ëŠ¥ë ¥ì„ ë¹Œë¦¬ëŠ” ê²ƒì€ í•™ìŠµ íš¨ìœ¨ì„ ë†’ì—¬ì¤ë‹ˆë‹¤.',
                    wrongExplanation: 'ì´ê²ƒì€ ê¶Œì¥ë˜ëŠ” ì‚¬ìš©ë²•ì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ì½”ë“œë¥¼ ë³µì‚¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì½”ë“œê°€ ì‘ë™í•˜ëŠ” ì›ë¦¬ë¥¼ ë°°ìš°ê¸° ìœ„í•´ AIë¥¼ íŠœí„°ì²˜ëŸ¼ í™œìš©í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's7',
                    situation: 'ì¹œêµ¬ê°€ ê³ ë¯¼ ìƒë‹´ì„ ìš”ì²­í–ˆëŠ”ë° ë°”ë¹ ì„œ AIì—ê²Œ ìƒí™©ì„ ì„¤ëª…í•˜ê³  "ì¹œêµ¬ë¥¼ ìœ„ë¡œí•  ë”°ëœ»í•œ ìœ„ë¡œ í¸ì§€ë¥¼ ì¨ì¤˜"ë¼ê³  ì‹œí‚¨ ë’¤, í™•ì¸ ì—†ì´ ê·¸ëŒ€ë¡œ ì¹œêµ¬ì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ëƒˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: false },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: true }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! ì¸ê°„ ê´€ê³„ì™€ ê°ì •ì  êµë¥˜ëŠ” ì§„ì •ì„±ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. AIì˜ ë‹µë³€ì„ ê²€í† ì¡°ì°¨ í•˜ì§€ ì•Šê³  ë³´ë‚´ëŠ” ê²ƒì€ ìƒëŒ€ë°©ì— ëŒ€í•œ ì˜ˆì˜ê°€ ì•„ë‹ˆë©° ì†Œí†µì˜ ì±…ì„ì„ íšŒí”¼í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.',
                    wrongExplanation: 'ì•„ì‰½ìŠµë‹ˆë‹¤. ìœ„ë¡œì˜ ë§ ìì²´ëŠ” ì¢‹ì„ ìˆ˜ ìˆì§€ë§Œ, ì¹œêµ¬ì™€ì˜ ê´€ê³„ì—ì„œ ìì‹ ì˜ ì§„ì‹¬ì´ ë¹ ì§„ AIì˜ ê¸€ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì§„ì •ì„± ë©´ì—ì„œ í° ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's8',
                    situation: 'ìƒˆë¡œìš´ ìš”ë¦¬ë²•ì„ ì°¾ë˜ ì¤‘ AIê°€ ì¶”ì²œí•´ì¤€ ë ˆì‹œí”¼ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. AIê°€ ì•Œë ¤ì¤€ ì‹ì¬ë£Œ ì¤‘ì— ë…ì„±ì´ ìˆì„ ìˆ˜ ìˆë‹¤ëŠ” ê¸°ì‚¬ë¥¼ ë³¸ ì ì´ ìˆì–´, ìš”ë¦¬í•˜ê¸° ì „ ê³µì‹ ë ¥ ìˆëŠ” ìš”ë¦¬ ë°±ê³¼ì—ì„œ ì¬ë£Œì˜ ì•ˆì „ì„±ì„ ë‹¤ì‹œ í™•ì¸í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: true },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: false }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIëŠ” ì •ë³´ë¥¼ ì˜ëª» ìƒì„±(í• ë£¨ì‹œë„¤ì´ì…˜)í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ê±´ê°•ì´ë‚˜ ì•ˆì „ê³¼ ì§ê²°ëœ ì •ë³´ëŠ” ë°˜ë“œì‹œ ì™¸ë¶€ ì¶œì²˜ë¥¼ í†µí•´ ì¬ê²€ì¦í•˜ëŠ” íƒœë„ê°€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.',
                    wrongExplanation: 'ì´ê²ƒì€ ë§¤ìš° í›Œë¥­í•œ íƒœë„ì…ë‹ˆë‹¤. AIì˜ ë‹µë³€ì„ ë§¹ì‹ í•˜ì§€ ì•Šê³ , ë¹„íŒì  ì‚¬ê³ ë¥¼ í†µí•´ ì•ˆì „ì„ í™•ë³´í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's9',
                    situation: 'ê³µëª¨ì „ì— ì œì¶œí•  ê·¸ë¦¼ì„ ê·¸ë¦¬ê³  ì‹¶ì€ë° ì•„ì´ë””ì–´ê°€ ë– ì˜¤ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. AIì—ê²Œ "ë¯¸ë˜ ë„ì‹œì˜ ëª¨ìŠµ"ì— ëŒ€í•œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê²Œ í•œ ë’¤, ê·¸ ì´ë¯¸ì§€ì˜ êµ¬ë„ì™€ ìƒ‰ê°ì„ ì°¸ê³ í•˜ì—¬ ì§ì ‘ ì²˜ìŒë¶€í„° ëê¹Œì§€ ê·¸ë¦¼ì„ ê·¸ë ¸ìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: true },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: false }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIë¥¼ ì˜ê°ì„ ì–»ëŠ” ë„êµ¬(Inspiration tool)ë¡œ í™œìš©í•˜ê³ , ì‹¤ì œ ì°½ì‘ í–‰ìœ„ëŠ” ì¸ê°„ì´ ì§ì ‘ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ì°½ì˜ì  í™œë™ì—ì„œ AIë¥¼ ë³´ì¡°ì ìœ¼ë¡œ ì˜ í™œìš©í•œ ì˜ˆì…ë‹ˆë‹¤.',
                    wrongExplanation: 'ì´ ê²½ìš°ëŠ” ê´œì°®ìŠµë‹ˆë‹¤. ê²°ê³¼ë¬¼ ìì²´ë¥¼ AIê°€ ë§Œë“  ê²ƒì´ ì•„ë‹ˆë¼, ì¸ê°„ì˜ ì°½ì‘ ê³¼ì •ì—ì„œ ì•„ì´ë””ì–´ë¥¼ êµ¬ì²´í™”í•˜ëŠ” ë° ë„ì›€ì„ ë°›ì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's10',
                    situation: 'ë‹¤ì´ì–´íŠ¸ ì¼ê¸° ì•±ì„ ë§Œë“¤ë©´ì„œ ë” ì •êµí•œ ì¶”ì²œì„ ìœ„í•´, ë™ì˜ ì—†ì´ ì¹œêµ¬ë“¤ì˜ í‚¤, ëª¸ë¬´ê²Œ, ì´ë¦„ ì •ë³´ë¥¼ AI í•™ìŠµ ëª¨ë¸ì— ëŒ€ëŸ‰ìœ¼ë¡œ ì…ë ¥í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: false },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: true }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! íƒ€ì¸ì˜ ë¯¼ê°í•œ ê°œì¸ì •ë³´ë¥¼ ë™ì˜ ì—†ì´ AI ì„œë¹„ìŠ¤ì— ì…ë ¥í•˜ëŠ” ê²ƒì€ ì‹¬ê°í•œ í”„ë¼ì´ë²„ì‹œ ì¹¨í•´ì´ë©° ë²•ì /ìœ¤ë¦¬ì  ì±…ì„ì´ ë”°ë¥´ëŠ” í–‰ë™ì…ë‹ˆë‹¤.',
                    wrongExplanation: 'í° ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. AI í•™ìŠµì„ ìœ„í•´ ë°ì´í„°ë¥¼ ëª¨ìœ¼ë”ë¼ë„ ê°œì¸ì •ë³´ëŠ” ë³´í˜¸ë˜ì–´ì•¼ í•˜ë©°, ë°˜ë“œì‹œ ë³¸ì¸ì˜ ëª…ì‹œì ì¸ ë™ì˜ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's11',
                    situation: 'ë™ì•„ë¦¬ í™ë³´ í¬ìŠ¤í„°ë¥¼ ë§Œë“¤ë ¤ê³  í•©ë‹ˆë‹¤. AI ì´ë¯¸ì§€ ìƒì„±ê¸°ë¥¼ ì‚¬ìš©í•´ ë°°ê²½ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê³ , í•˜ë‹¨ì— "ì´ í¬ìŠ¤í„°ì˜ ë°°ê²½ì€ AIë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤"ë¼ëŠ” ë¬¸êµ¬ë¥¼ ëª…í™•í•˜ê²Œ ê¸°ì¬í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: true },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: false }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AI í™œìš© ì‚¬ì‹¤ì„ íˆ¬ëª…í•˜ê²Œ ê³µê°œí•˜ëŠ” ê²ƒì€ ì •ë³´ ì´ìš©ìì— ëŒ€í•œ ì •ì§í•œ íƒœë„ì´ë©°, ì±…ì„ê° ìˆëŠ” í™œìš©ì˜ í•µì‹¬ì…ë‹ˆë‹¤.',
                    wrongExplanation: 'ì´ê²ƒì€ ê¶Œì¥ë˜ëŠ” í–‰ë™ì…ë‹ˆë‹¤. AIë¥¼ ë„êµ¬ë¡œ ì‚¬ìš©í•˜ë˜ ê·¸ ì‚¬ì‹¤ì„ ëª…í™•íˆ ë°í˜ìœ¼ë¡œì¨ ì˜¤í•´ë¥¼ ë°©ì§€í•˜ê³  ì €ì‘ë¬¼ì— ëŒ€í•œ íˆ¬ëª…ì„±ì„ í™•ë³´í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's12',
                    situation: 'ì§„ë¡œ íƒìƒ‰ì„ ìœ„í•´ AIì—ê²Œ "10ë…„ ë’¤ ìœ ë§ ì§ì—…"ì„ ë¬¼ì–´ë³´ì•˜ìŠµë‹ˆë‹¤. AIê°€ ë‹µë³€í•œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ê³ , ê·¸ ì§ì—…ë“¤ì´ ì‹¤ì œë¡œ í˜„ì¬ ì–´ë–¤ ì¶”ì„¸ì¸ì§€ í†µê³„ì²­ ìë£Œì™€ ë‰´ìŠ¤ ê¸°ì‚¬ë¥¼ ì°¾ì•„ë³´ë©° êµì°¨ ê²€ì¦í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: true },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: false }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIëŠ” ë¯¸ë˜ ì˜ˆì¸¡ì—ì„œ í¸í–¥ëœ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì˜ëª»ëœ ì •ë³´ë¥¼ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê³µì‹ ë ¥ ìˆëŠ” ìë£Œë¥¼ í†µí•´ êµì°¨ ê²€ì¦í•˜ëŠ” ìŠµê´€ì€ ë§¤ìš° ë°”ëŒì§í•©ë‹ˆë‹¤.',
                    wrongExplanation: 'ì´ê²ƒì€ ë§¤ìš° í›Œë¥­í•œ í™œìš©ì…ë‹ˆë‹¤. AIì˜ ì˜ê²¬ì„ í•˜ë‚˜ì˜ ì°¸ê³  ìë£Œë¡œ ì‚¼ê³ , ì‹¤ì œ ë°ì´í„°ë¡œ ë³¸ì¸ì´ ì§ì ‘ ë¶„ì„í•˜ê³  íŒë‹¨í•˜ëŠ” ê³¼ì •ì„ ê±°ì³¤ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's13',
                    situation: 'ë…ì„œ ê°ìƒë¬¸ ìˆ˜í–‰í‰ê°€ì—ì„œ ì±…ì„ ì½ì„ ì‹œê°„ì´ ë¶€ì¡±í•˜ì, AIì—ê²Œ ì±… ì „ì²´ ì¤„ê±°ë¦¬ë¥¼ ìš”ì•½í•´ë‹¬ë¼ê³  í•œ ë’¤ ê·¸ ìš”ì•½ë³¸ì„ ë°”íƒ•ìœ¼ë¡œ ì½ì§€ë„ ì•Šì€ ì±…ì˜ ê°ìƒë¬¸ì„ ì¨ì„œ ì œì¶œí–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: false },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: true }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AI ìš”ì•½ë³¸ì— ì˜ì¡´í•´ ì‹¤ì œ ê²½í—˜í•˜ì§€ ì•Šì€ ë‚´ìš©ì„ ìì‹ ì˜ ê²ƒì²˜ëŸ¼ ì“°ëŠ” ê²ƒì€ ì •ì§ì„± ì›ì¹™ì— ì–´ê¸‹ë‚˜ë©°, ìì‹ ì˜ ì§ì ‘ì ì¸ í†µì°°ì´ ë¹ ì§„ ê¸°ë§Œì ì¸ í–‰ë™ì…ë‹ˆë‹¤.',
                    wrongExplanation: 'ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ìˆ˜í–‰í‰ê°€ëŠ” í•™ìƒì˜ ì‹¤ì œ ë…ì„œ ê²½í—˜ê³¼ ì„±ì°°ì„ í™•ì¸í•˜ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤. AI ìš”ì•½ë³¸ì—ë§Œ ì˜ì¡´í•˜ëŠ” ê²ƒì€ í‰ê°€ì˜ ë³¸ì§ˆì„ í›¼ì†í•˜ëŠ” ë¶€ì •í–‰ìœ„ì™€ ë‹¤ë¦„ì—†ìŠµë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's14',
                    situation: 'AI ì±—ë´‡ê³¼ ëŒ€í™”í•˜ë˜ ì¤‘ AIê°€ íŠ¹ì • ì§€ì—­ ì‚¬ëŒë“¤ì— ëŒ€í•´ í¸ê²¬ ì„ì¸ ë§ì„ í•˜ëŠ” ê²ƒì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ë‚˜ëŠ” "ê·¸ê±´ ì°¨ë³„ì ì¸ ë°œì–¸ì´ì•¼"ë¼ê³  ì§€ì í•˜ê³ , í•´ë‹¹ ë‹µë³€ì„ ì„œë¹„ìŠ¤ ì œê³µì‚¬ì— ì‹ ê³ (Feedback)í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: true },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: false }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIì˜ í¸í–¥ì„±ì´ë‚˜ í˜ì˜¤ í‘œí˜„ì„ ë°œê²¬í–ˆì„ ë•Œ ì´ë¥¼ ë¹„íŒì ìœ¼ë¡œ ì¸ì‹í•˜ê³  í”¼ë“œë°±ì„ ë³´ë‚´ëŠ” ê²ƒì€ ê±´ê°•í•œ AI ìƒíƒœê³„ë¥¼ ë§Œë“œëŠ” ì‚¬ìš©ìì˜ ì‚¬íšŒì  ì±…ì„ì…ë‹ˆë‹¤.',
                    wrongExplanation: 'ì´ê²ƒì€ ë§¤ìš° ì˜¬ë°”ë¥¸ í–‰ë™ì…ë‹ˆë‹¤. AIì˜ ì˜¤ë¥˜ì™€ í¸í–¥ì„ ë¬µì¸í•˜ì§€ ì•Šê³  ê°œì„ ì„ ìœ„í•´ ì ê·¹ì ìœ¼ë¡œ í–‰ë™í•˜ëŠ” ê²ƒì€ ì„±ìˆ™í•œ ë””ì§€í„¸ ì‹œë¯¼ì˜ ëª¨ìŠµì…ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's15',
                    situation: 'ì¹œêµ¬ê°€ SNSì— ì˜¬ë¦° ì¼ìƒ ì‚¬ì§„ì„ ìº¡ì²˜í•˜ì—¬ AI í¸ì§‘ ë„êµ¬ì— ë„£ì€ ë’¤, ì¹œêµ¬ì˜ ë™ì˜ ì—†ì´ ìš°ìŠ¤ê½ìŠ¤ëŸ¬ìš´ ìºë¦­í„°ë¡œ ë³€í˜•í•˜ì—¬ ë‹¨í†¡ë°©ì— ê³µìœ í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: false },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: true }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIë¥¼ ì´ìš©í•´ íƒ€ì¸ì˜ ì´ˆìƒì„ ë™ì˜ ì—†ì´ ë³€í˜•í•˜ê±°ë‚˜ ë°°í¬í•˜ëŠ” ê²ƒì€ ì¸ê¶Œ ì¹¨í•´ ë° ì‚¬ì´ë²„ ë¶ˆë§ì— í•´ë‹¹í•˜ë©°, ë²•ì ì¸ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                    wrongExplanation: 'ì‹¬ê°í•œ ë¬¸ì œì…ë‹ˆë‹¤. ì¥ë‚œì´ë¼ í• ì§€ë¼ë„ AIë¥¼ í™œìš©í•œ íƒ€ì¸ ì´ë¯¸ì§€ì˜ ë¬´ë‹¨ ë³€í˜•ê³¼ ë°°í¬ëŠ” ìƒëŒ€ë°©ì—ê²Œ í° ìƒì²˜ë¥¼ ì¤„ ìˆ˜ ìˆëŠ” ë¹„ìœ¤ë¦¬ì  í–‰ìœ„ì…ë‹ˆë‹¤.',
                    points: 10
                }
            ];

            const currentS = scenarios[currentScenario];

            const handleAnswer = (optionId) => {
                if (showFeedback) return;
                setSelectedAnswer(optionId);
                setShowFeedback(true);

                const option = currentS.options.find(o => o.id === optionId);
                if (option.correct) {
                    setEarnedScore(prev => prev + currentS.points);
                }
            };

            const handleNext = () => {
                if (currentScenario < scenarios.length - 1) {
                    setCurrentScenario(currentScenario + 1);
                    setSelectedAnswer(null);
                    setShowFeedback(false);
                } else {
                    setStage1Score(earnedScore);
                    setTotalScore(earnedScore);
                    markStageComplete('stage1');
                    goToStage(2);
                }
            };

            const selectedOption = currentS.options.find(o => o.id === selectedAnswer);

            return (
                <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                    <div className="text-center mb-8">
                        <div className="text-6xl mb-6 bounce">âš–ï¸</div>
                        <h2 className="text-3xl font-bold text-gray-800 mb-4">1ë‹¨ê³„: ìƒí™© íŒë‹¨í•˜ê¸°</h2>
                        <div className="flex justify-center gap-2 mb-4">
                            {scenarios.map((_, idx) => (
                                <div key={idx} className={`w-3 h-3 rounded-full ${idx === currentScenario ? 'bg-purple-500' : idx < currentScenario ? 'bg-green-500' : 'bg-gray-300'}`} />
                            ))}
                        </div>
                        <p className="text-gray-600">ì‹œë‚˜ë¦¬ì˜¤ {currentScenario + 1} / {scenarios.length}</p>
                        <div className="mt-4 inline-block bg-purple-100 px-4 py-2 rounded-full">
                            <p className="text-purple-800 font-bold">íšë“ ì ìˆ˜: {earnedScore}ì </p>
                        </div>
                    </div>

                    <div className="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 mb-6 border-2 border-blue-200">
                        <div className="bg-white rounded-xl p-6 mb-6">
                            <h3 className="text-lg font-bold text-gray-800 mb-4">ğŸ“‹ ìƒí™©</h3>
                            <p className="text-gray-700 leading-relaxed">{currentS.situation}</p>
                        </div>

                        <h3 className="text-xl font-bold text-gray-800 mb-4 text-center">ì´ ìƒí™©ì— ëŒ€í•œ ë‹¹ì‹ ì˜ íŒë‹¨ì€?</h3>
                        
                        <div className="grid grid-cols-2 gap-4 mb-6">
                            {currentS.options.map((option) => (
                                <button
                                    key={option.id}
                                    onClick={() => handleAnswer(option.id)}
                                    disabled={showFeedback}
                                    className={`p-6 rounded-xl border-2 transition-all font-bold text-lg ${
                                        showFeedback
                                            ? option.correct
                                                ? 'bg-green-100 border-green-500 text-green-800'
                                                : option.id === selectedAnswer
                                                ? 'bg-red-100 border-red-500 text-red-800'
                                                : 'bg-gray-50 border-gray-300 text-gray-500'
                                            : selectedAnswer === option.id
                                            ? 'bg-purple-100 border-purple-500 text-purple-800'
                                            : 'bg-white border-gray-300 hover:border-purple-400 hover:bg-purple-50 text-gray-800'
                                    }`}>
                                    {showFeedback && option.correct && <span className="text-2xl mr-2">âœ“</span>}
                                    {showFeedback && !option.correct && option.id === selectedAnswer && <span className="text-2xl mr-2">âœ—</span>}
                                    {option.text}
                                </button>
                            ))}
                        </div>

                        {showFeedback && (
                            <div className={`rounded-2xl p-6 mb-6 border-2 fade-in ${
                                selectedOption?.correct 
                                    ? 'bg-green-50 border-green-300' 
                                    : 'bg-orange-50 border-orange-300'
                            }`}>
                                <div className="flex items-start">
                                    <div className="text-4xl mr-4">{selectedOption?.correct ? 'ğŸ‰' : 'ğŸ’­'}</div>
                                    <div className="flex-1">
                                        <h4 className={`text-xl font-bold mb-3 ${selectedOption?.correct ? 'text-green-800' : 'text-orange-800'}`}>
                                            {selectedOption?.correct ? `ì˜í–ˆì–´ìš”! +${currentS.points}ì ` : 'ë‹¤ì‹œ ìƒê°í•´ë´ìš”'}
                                        </h4>
                                        <p className="text-gray-800">
                                            {selectedOption?.correct ? currentS.correctExplanation : currentS.wrongExplanation}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        )}

                        {showFeedback && (
                            <button onClick={handleNext}
                                className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xl font-bold py-5 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all">
                                {currentScenario < scenarios.length - 1 ? 'ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ âœ' : '2ë‹¨ê³„ë¡œ ì´ë™ âœ'}
                            </button>
                        )}
                    </div>
                </div>
            );
        }

        function Stage2({ goToStage, markStageComplete }) {
            const [currentQuestion, setCurrentQuestion] = useState(null);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [showFeedback, setShowFeedback] = useState(false);

            const principles = [
                {
                    icon: 'ğŸ¯',
                    title: 'ëª©ì ì˜ ì •ë‹¹ì„±',
                    content: 'AIë¥¼ ì‚¬ìš©í•˜ëŠ” ëª©ì ì´ ìœ¤ë¦¬ì ì´ê³  í•©ë²•ì ì´ì–´ì•¼ í•©ë‹ˆë‹¤. íƒ€ì¸ì—ê²Œ í•´ë¥¼ ë¼ì¹˜ê±°ë‚˜ ê·œì¹™ì„ ìœ„ë°˜í•˜ëŠ” ëª©ì ìœ¼ë¡œ AIë¥¼ ì‚¬ìš©í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.'
                },
                {
                    icon: 'âœï¸',
                    title: 'ì°½ì‘ë¬¼ì˜ ì¶œì²˜',
                    content: 'AIê°€ ìƒì„±í•œ ë‚´ìš©ì„ ì‚¬ìš©í•  ë•ŒëŠ” ì ì ˆí•œ í‘œì‹œë¥¼ í•˜ê³ , ìì‹ ì˜ ê²ƒì²˜ëŸ¼ ì œì¶œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. AIëŠ” ë„êµ¬ì¼ ë¿, ìµœì¢… ì±…ì„ì€ ì‚¬ìš©ìì—ê²Œ ìˆìŠµë‹ˆë‹¤.'
                },
                {
                    icon: 'ğŸ”',
                    title: 'ì •ë³´ì˜ ê²€ì¦',
                    content: 'AIê°€ ì œê³µí•œ ì •ë³´ë¥¼ ë¬´ì¡°ê±´ ì‹ ë¢°í•˜ì§€ ë§ê³  ë°˜ë“œì‹œ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. AIë„ ì˜ëª»ëœ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìœ¼ë©°, ìµœì¢… íŒë‹¨ì€ ì‚¬ìš©ìì˜ ëª«ì…ë‹ˆë‹¤.'
                },
                {
                    icon: 'ğŸ›¡ï¸',
                    title: 'ê°œì¸ì •ë³´ ë³´í˜¸',
                    content: 'íƒ€ì¸ì˜ ê°œì¸ì •ë³´ë‚˜ ë¯¼ê°í•œ ì •ë³´ë¥¼ AIì— ì…ë ¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. AI ì„œë¹„ìŠ¤ì— ì…ë ¥í•œ ì •ë³´ëŠ” í•™ìŠµ ë°ì´í„°ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìŒì„ ì¸ì§€í•´ì•¼ í•©ë‹ˆë‹¤.'
                },
                {
                    icon: 'âš–ï¸',
                    title: 'ê³µì •ì„±ê³¼ í¸ê²¬',
                    content: 'AIê°€ ìƒì„±í•œ ë‚´ìš©ì— í¸ê²¬ì´ë‚˜ ì°¨ë³„ì  ìš”ì†Œê°€ ì—†ëŠ”ì§€ ê²€í† í•´ì•¼ í•©ë‹ˆë‹¤. AIëŠ” í•™ìŠµ ë°ì´í„°ì˜ í¸í–¥ì„ ë°˜ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
                },
                {
                    icon: 'ğŸ¤',
                    title: 'ì‚¬íšŒì  ì±…ì„',
                    content: 'AI ì‚¬ìš©ì´ ì‚¬íšŒì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. ê°€ì§œ ë‰´ìŠ¤, í˜ì˜¤ ë°œì–¸, ì €ì‘ê¶Œ ì¹¨í•´ ë“±ì— AIë¥¼ ì´ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.'
                }
            ];

            const quizQuestions = [
                {
                    id: 'q1',
                    question: 'AI ìœ¤ë¦¬ì˜ í•µì‹¬ ì›ì¹™ì¸ "ëª©ì ì˜ ì •ë‹¹ì„±"ì— ëŒ€í•œ ê³ ë“±í•™ìƒì˜ ì˜¬ë°”ë¥¸ íƒœë„ëŠ”?',
                    options: [
                        { id: 'a', text: 'í•™ìŠµ íš¨ìœ¨ì„ ë†’ì´ê¸° ìœ„í•´ ìˆ˜í–‰í‰ê°€ ì „ ê³¼ì •ì„ AIì—ê²Œ ë§¡ê¸´ë‹¤.', correct: false },
                        { id: 'b', text: 'êµì¹™ì´ë‚˜ ì‚¬íšŒì  ê·œë²”ì„ ì¤€ìˆ˜í•˜ë©° ìì‹ ì˜ ì„±ì¥ì„ ë•ëŠ” ë„êµ¬ë¡œë§Œ ì‚¬ìš©í•œë‹¤.', correct: true },
                        { id: 'c', text: 'ê²°ê³¼ë§Œ í›Œë¥­í•˜ë‹¤ë©´ ê³¼ì •ì—ì„œì˜ AI í™œìš© ëª©ì ì€ í¬ê²Œ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤.', correct: false },
                        { id: 'd', text: 'ìœ ë£Œ AI ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš°ë¼ë©´ ì–´ë–¤ ëª©ì ìœ¼ë¡œë“  ì‚¬ìš©í•  ê¶Œë¦¬ê°€ ìˆë‹¤.', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! AI í™œìš©ì€ ì‚¬ìš©ìì˜ ìœ¤ë¦¬ì  íŒë‹¨ê³¼ ê·œë²” ì¤€ìˆ˜ê°€ ì „ì œë˜ì–´ì•¼ í•˜ë©°, íŠ¹íˆ í•™ìƒì€ ìì‹ ì˜ í•™ìŠµ ì„±ì¥ì„ ì €í•´í•˜ì§€ ì•ŠëŠ” ë²”ìœ„ ë‚´ì—ì„œ ì •ë‹¹í•˜ê²Œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.'
                },
                {
                    id: 'q2',
                    question: 'ìƒì„±í˜• AIì˜ "í• ë£¨ì‹œë„¤ì´ì…˜(Hallucination, í™˜ê°)" í˜„ìƒì— ëŒ€ì²˜í•˜ëŠ” ê°€ì¥ ë°”ëŒì§í•œ ë°©ë²•ì€?',
                    options: [
                        { id: 'a', text: 'ìµœì‹  ë²„ì „ì˜ AIëŠ” ì ˆëŒ€ ê±°ì§“ë§ì„ í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ê·¸ëŒ€ë¡œ ë¯¿ëŠ”ë‹¤.', correct: false },
                        { id: 'b', text: 'AIê°€ ë‹µë³€í•œ ë‚´ìš© ì¤‘ ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ë¶€ë¶„ë§Œ ì¸í„°ë„· ê²€ìƒ‰ìœ¼ë¡œ í™•ì¸í•œë‹¤.', correct: false },
                        { id: 'c', text: 'ì¤‘ìš”í•œ í•™ìˆ ì  ê·¼ê±°ê°€ í•„ìš”í•œ ê²½ìš° êµì°¨ ê²€ì¦ì„ í†µí•´ ì •ë³´ì˜ ì •í™•ì„±ì„ í™•ë³´í•œë‹¤.', correct: true },
                        { id: 'd', text: 'ì˜¤ë¥˜ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ AIê°€ ìƒì„±í•œ ëª¨ë“  ì •ë³´ì˜ ì‚¬ìš©ì„ ê¸ˆì§€í•œë‹¤.', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIëŠ” ê·¸ëŸ´ë“¯í•œ ê±°ì§“ë§ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹ ë¢°ë„ ë†’ì€ ì™¸ë¶€ ì¶œì²˜ì™€ ë¹„êµí•˜ëŠ” êµì°¨ ê²€ì¦(Cross-check) ê³¼ì •ì€ í•„ìˆ˜ì ì…ë‹ˆë‹¤.'
                },
                {
                    id: 'q3',
                    question: 'AI ì„œë¹„ìŠ¤ ì´ìš© ì¤‘ ê°œì¸ì •ë³´ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•´ í”¼í•´ì•¼ í•  í–‰ë™ì€?',
                    options: [
                        { id: 'a', text: 'AIì™€ ëŒ€í™” ì‹œ ë‚˜ë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ì´ë¦„, í•™êµ, ì—°ë½ì²˜ ì…ë ¥ì„ ìì œí•œë‹¤.', correct: false },
                        { id: 'b', text: 'ë¯¼ê°í•œ ì§ˆë¬¸ì„ í•  ë•ŒëŠ” ìµëª… ëª¨ë“œë‚˜ ê°œì¸ì •ë³´ ë³´í˜¸ ê¸°ëŠ¥ì„ í™œì„±í™”í•œë‹¤.', correct: false },
                        { id: 'c', text: 'ìƒë‹´ AIì—ê²Œ ì¹œêµ¬ì™€ì˜ ê³ ë¯¼ í•´ê²°ì„ ìœ„í•´ ì¹œêµ¬ì˜ ì‹¤ëª…ê³¼ ëŒ€í™” ë‚´ìš©ì„ ì…ë ¥í•œë‹¤.', correct: true },
                        { id: 'd', text: 'ì´ìš© ì•½ê´€ì„ í™•ì¸í•˜ì—¬ ì…ë ¥ ë°ì´í„°ê°€ í•™ìŠµì— í™œìš©ë˜ëŠ”ì§€ ì²´í¬í•œë‹¤.', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! íƒ€ì¸ì˜ ë™ì˜ ì—†ëŠ” ê°œì¸ì •ë³´ ì…ë ¥ì€ ì‹¬ê°í•œ í”„ë¼ì´ë²„ì‹œ ì¹¨í•´ì…ë‹ˆë‹¤. AI ì…ë ¥ ë°ì´í„°ëŠ” ì„œë²„ì— ì €ì¥ë˜ê±°ë‚˜ ì¬í•™ìŠµì— ì“°ì¼ ìˆ˜ ìˆìŒì„ ìŠì§€ ë§ˆì„¸ìš”.'
                },
                {
                    id: 'q4',
                    question: 'AI ìƒì„± ê²°ê³¼ë¬¼ì— í¬í•¨ë  ìˆ˜ ìˆëŠ” "í¸í–¥ì„±(Bias)"ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ì˜³ì€ ê²ƒì€?',
                    options: [
                        { id: 'a', text: 'ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ AIëŠ” ì¸ê°„ê³¼ ë‹¬ë¦¬ í•­ìƒ ì¤‘ë¦½ì ì´ê³  ê³µì •í•˜ë‹¤.', correct: false },
                        { id: 'b', text: 'í•™ìŠµ ë°ì´í„°ì— í¬í•¨ëœ ì‚¬íšŒì  í¸ê²¬ì´ ê²°ê³¼ë¬¼ì— ê·¸ëŒ€ë¡œ ë°˜ì˜ë  ìˆ˜ ìˆë‹¤.', correct: true },
                        { id: 'c', text: 'í¸í–¥ëœ ê²°ê³¼ê°€ ë‚˜ì˜¤ë”ë¼ë„ ì´ëŠ” AIì˜ ë…ì°½ì ì¸ ì‹œê°ìœ¼ë¡œ ë³´ì•„ì•¼ í•œë‹¤.', correct: false },
                        { id: 'd', text: 'ì•Œê³ ë¦¬ì¦˜ì˜ ê¸°ìˆ ì  í•œê³„ì¼ ë¿ ì‚¬ìš©ìê°€ ë¹„íŒì ìœ¼ë¡œ ê²€í† í•  í•„ìš”ëŠ” ì—†ë‹¤.', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIëŠ” ë°ì´í„° ì†ì— ìˆ¨ê²¨ì§„ ì¸ì¢…, ì„±ë³„, ì§€ì—­ ë“±ì— ëŒ€í•œ í¸í–¥ì„±ì„ í•™ìŠµí•˜ê³  ì´ë¥¼ ì¦í­ì‹œí‚¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‚¬ìš©ìì˜ ë¹„íŒì  ì‹œê°ì´ ë°˜ë“œì‹œ í•„ìš”í•©ë‹ˆë‹¤.'
                },
                {
                    id: 'q5',
                    question: 'AIë¥¼ í™œìš©í•œ ê³¼ì œ ì œì¶œ ì‹œ "ì°½ì‘ë¬¼ì˜ ì¶œì²˜"ë¥¼ ë°íˆëŠ” íƒœë„ì— ëŒ€í•œ ì„¤ëª…ì€?',
                    options: [
                        { id: 'a', text: 'AIê°€ ìƒì„±í•œ ë¬¸ì¥ì„ 30% ì´ìƒ ìˆ˜ì •í–ˆë‹¤ë©´ ë‚´ ì°½ì‘ë¬¼ì´ë¯€ë¡œ ë°í í•„ìš”ê°€ ì—†ë‹¤.', correct: false },
                        { id: 'b', text: 'ì—°êµ¬ ìœ¤ë¦¬ë¥¼ ì§€í‚¤ê¸° ìœ„í•´ ì–´ëŠ ë¶€ë¶„ì„ ì–´ë–¤ AIë¡œ ìƒì„±í–ˆëŠ”ì§€ ì •ì§í•˜ê²Œ ëª…ì‹œí•œë‹¤.', correct: true },
                        { id: 'c', text: 'ì¶œì²˜ë¥¼ ë°íˆë©´ ê°ì ì„ ë°›ì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê°€ê¸‰ì  ìˆ¨ê¸°ëŠ” ê²ƒì´ ìœ ë¦¬í•˜ë‹¤.', correct: false },
                        { id: 'd', text: 'AIëŠ” ì‚¬ëŒì´ ì•„ë‹ˆë¯€ë¡œ ì €ì‘ê¶Œ ê°œë…ì´ ì ìš©ë˜ì§€ ì•Šì•„ ë§ˆìŒëŒ€ë¡œ ì¨ë„ ëœë‹¤.', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! ì •ì§í•œ ì¶œì²˜ í‘œê¸°ëŠ” íƒ€ì¸ì˜ ê¶Œë¦¬ë¥¼ ì¡´ì¤‘í•˜ê³  ì—°êµ¬ ë° í•™ìŠµì˜ íˆ¬ëª…ì„±ì„ ë†’ì´ëŠ” í•µì‹¬ì ì¸ ìœ¤ë¦¬ ì‹¤ì²œì…ë‹ˆë‹¤.'
                }
            ];

            const handleStartQuiz = () => {
                setCurrentQuestion(0);
            };

            const handleAnswer = (optionId) => {
                if (showFeedback) return;
                setSelectedAnswer(optionId);
                setShowFeedback(true);
            };

            const handleNext = () => {
                if (currentQuestion < quizQuestions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    setSelectedAnswer(null);
                    setShowFeedback(false);
                } else {
                    markStageComplete('stage2');
                    goToStage(3);
                }
            };

            if (currentQuestion === null) {
                return (
                    <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                        <div className="text-center mb-8">
                            <div className="text-6xl mb-6 bounce">ğŸ“š</div>
                            <h2 className="text-3xl font-bold text-gray-800 mb-4">2ë‹¨ê³„: ì±…ì„ê° ìˆëŠ” AI ì‚¬ìš© ì›ì¹™</h2>
                            <p className="text-gray-600">AIë¥¼ ì‚¬ìš©í•  ë•Œ ì§€ì¼œì•¼ í•  6ê°€ì§€ í•µì‹¬ ì›ì¹™ì„ ë°°ì›Œë´…ì‹œë‹¤</p>
                        </div>

                        <div className="space-y-4 mb-8">
                            {principles.map((principle, idx) => (
                                <div key={idx} className="bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6 border-2 border-purple-200 fade-in">
                                    <div className="flex items-start">
                                        <div className="text-4xl mr-4">{principle.icon}</div>
                                        <div className="flex-1">
                                            <h3 className="text-xl font-bold text-purple-800 mb-2">{principle.title}</h3>
                                            <p className="text-gray-700 leading-relaxed">{principle.content}</p>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>

                        <div className="bg-blue-50 rounded-xl p-6 mb-6 border-2 border-blue-300">
                            <div className="flex items-start">
                                <span className="text-3xl mr-4">ğŸ’¡</span>
                                <div className="flex-1">
                                    <h4 className="font-bold text-blue-800 text-lg mb-2">í•µì‹¬ ê¸°ì–µí•˜ê¸°</h4>
                                    <p className="text-gray-700">
                                        AIëŠ” ê°•ë ¥í•œ ë„êµ¬ì´ì§€ë§Œ, ê·¸ ì‚¬ìš©ì— ëŒ€í•œ ì±…ì„ì€ ì–¸ì œë‚˜ <span className="font-bold text-blue-800">ì‚¬ìš©ì</span>ì—ê²Œ ìˆìŠµë‹ˆë‹¤. 
                                        AIë¥¼ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ë©´ ìš°ë¦¬ì˜ ëŠ¥ë ¥ì„ í™•ì¥í•  ìˆ˜ ìˆì§€ë§Œ, ì˜ëª» ì‚¬ìš©í•˜ë©´ ìì‹ ê³¼ íƒ€ì¸ ëª¨ë‘ì—ê²Œ í•´ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <button onClick={handleStartQuiz}
                            className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xl font-bold py-5 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all">
                            í™•ì¸ ë¬¸ì œ í’€ê¸° âœ
                        </button>
                    </div>
                );
            }

            const currentQ = quizQuestions[currentQuestion];
            const selectedOption = currentQ.options.find(o => o.id === selectedAnswer);

            return (
                <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                    <div className="text-center mb-8">
                        <div className="text-6xl mb-6 bounce">ğŸ“</div>
                        <h2 className="text-3xl font-bold text-gray-800 mb-4">2ë‹¨ê³„: í™•ì¸ ë¬¸ì œ</h2>
                        <div className="flex justify-center gap-2 mb-4">
                            {quizQuestions.map((_, idx) => (
                                <div key={idx} className={`w-3 h-3 rounded-full ${idx === currentQuestion ? 'bg-purple-500' : idx < currentQuestion ? 'bg-green-500' : 'bg-gray-300'}`} />
                            ))}
                        </div>
                        <p className="text-gray-600">ë¬¸ì œ {currentQuestion + 1} / {quizQuestions.length}</p>
                    </div>

                    <div className="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 mb-6 border-2 border-blue-200">
                        <h3 className="text-xl font-bold text-gray-800 mb-6 text-center">{currentQ.question}</h3>
                        
                        <div className="space-y-3 mb-6">
                            {currentQ.options.map((option) => (
                                <button
                                    key={option.id}
                                    onClick={() => handleAnswer(option.id)}
                                    disabled={showFeedback}
                                    className={`w-full text-left p-4 rounded-xl border-2 transition-all ${
                                        showFeedback
                                            ? option.correct
                                                ? 'bg-green-100 border-green-500'
                                                : option.id === selectedAnswer
                                                ? 'bg-red-100 border-red-500'
                                                : 'bg-gray-50 border-gray-300'
                                            : selectedAnswer === option.id
                                            ? 'bg-purple-100 border-purple-500'
                                            : 'bg-white border-gray-300 hover:border-purple-400 hover:bg-purple-50'
                                    }`}>
                                    <div className="flex items-center">
                                        <div className={`w-8 h-8 rounded-full border-2 mr-4 flex items-center justify-center font-bold flex-shrink-0 ${
                                            showFeedback && option.correct
                                                ? 'bg-green-500 border-green-500 text-white'
                                                : showFeedback && option.id === selectedAnswer
                                                ? 'bg-red-500 border-red-500 text-white'
                                                : 'border-gray-400 text-gray-600'
                                        }`}>
                                            {showFeedback && option.correct ? 'âœ“' : showFeedback && option.id === selectedAnswer ? 'âœ—' : option.id.toUpperCase()}
                                        </div>
                                        <span className="flex-1 text-gray-800">{option.text}</span>
                                    </div>
                                </button>
                            ))}
                        </div>

                        {showFeedback && (
                            <div className={`rounded-2xl p-6 mb-6 border-2 fade-in ${
                                selectedOption?.correct 
                                    ? 'bg-green-50 border-green-300' 
                                    : 'bg-orange-50 border-orange-300'
                            }`}>
                                <div className="flex items-start">
                                    <div className="text-4xl mr-4">{selectedOption?.correct ? 'ğŸ‰' : 'ğŸ’¡'}</div>
                                    <div className="flex-1">
                                        <h4 className={`text-xl font-bold mb-2 ${selectedOption?.correct ? 'text-green-800' : 'text-orange-800'}`}>
                                            {selectedOption?.correct ? 'ì •ë‹µì…ë‹ˆë‹¤!' : 'ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”!'}
                                        </h4>
                                        <p className="text-gray-700">{currentQ.explanation}</p>
                                    </div>
                                </div>
                            </div>
                        )}

                        {showFeedback && (
                            <button onClick={handleNext}
                                className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xl font-bold py-5 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all">
                                {currentQuestion < quizQuestions.length - 1 ? 'ë‹¤ìŒ ë¬¸ì œ âœ' : '3ë‹¨ê³„ë¡œ ì´ë™ âœ'}
                            </button>
                        )}
                    </div>
                </div>
            );
        }

        function Stage3({ goToStage, markStageComplete }) {
            const [checkedItems, setCheckedItems] = useState({});

            const checklistItems = [
                {
                    id: 'c1',
                    category: 'ì‚¬ìš© ì „ í™•ì¸',
                    items: [
                        { id: 'c1-1', text: 'AIë¥¼ ì‚¬ìš©í•˜ëŠ” ëª©ì ì´ ìœ¤ë¦¬ì ì´ê³  í•©ë²•ì ì¸ê°€?' },
                        { id: 'c1-2', text: 'ì´ ì‘ì—…ì— AIë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê·œì¹™ì— ì–´ê¸‹ë‚˜ì§€ ì•ŠëŠ”ê°€?' },
                        { id: 'c1-3', text: 'ê°œì¸ì •ë³´ë‚˜ ë¯¼ê°í•œ ì •ë³´ë¥¼ ì…ë ¥í•˜ì§€ ì•ŠëŠ”ê°€?' }
                    ]
                },
                {
                    id: 'c2',
                    category: 'ì‚¬ìš© ì¤‘ ì£¼ì˜',
                    items: [
                        { id: 'c2-1', text: 'AIì˜ ë‹µë³€ì„ ë¬´ì¡°ê±´ ì‹ ë¢°í•˜ì§€ ì•Šê³  ê²€ì¦í•  ê²ƒì¸ê°€?' },
                        { id: 'c2-2', text: 'AIë¥¼ í•™ìŠµ ë„êµ¬ë¡œ í™œìš©í•˜ê³  ìˆëŠ”ê°€? (ë‹¨ìˆœ ë³µì‚¬ê°€ ì•„ë‹Œ)' },
                        { id: 'c2-3', text: 'AI ê²°ê³¼ë¬¼ì— í¸ê²¬ì´ë‚˜ ì°¨ë³„ì  ìš”ì†Œê°€ ì—†ëŠ”ì§€ í™•ì¸í–ˆëŠ”ê°€?' }
                    ]
                },
                {
                    id: 'c3',
                    category: 'ì‚¬ìš© í›„ ì±…ì„',
                    items: [
                        { id: 'c3-1', text: 'AIê°€ ìƒì„±í•œ ë‚´ìš©ì˜ ì¶œì²˜ë¥¼ ëª…í™•íˆ í‘œì‹œí–ˆëŠ”ê°€?' },
                        { id: 'c3-2', text: 'ìµœì¢… ê²°ê³¼ë¬¼ì„ ì§ì ‘ ê²€í† í•˜ê³  ì±…ì„ì§ˆ ìˆ˜ ìˆëŠ”ê°€?' },
                        { id: 'c3-3', text: 'ì´ ê²°ê³¼ë¬¼ì´ íƒ€ì¸ì—ê²Œ í•´ë¥¼ ë¼ì¹˜ì§€ ì•ŠëŠ”ê°€?' }
                    ]
                }
            ];

            const handleCheck = (itemId) => {
                setCheckedItems(prev => ({
                    ...prev,
                    [itemId]: !prev[itemId]
                }));
            };

            const allChecked = checklistItems.every(category => 
                category.items.every(item => checkedItems[item.id])
            );

            const totalItems = checklistItems.reduce((sum, cat) => sum + cat.items.length, 0);
            const checkedCount = Object.values(checkedItems).filter(v => v).length;

            const handleNext = () => {
                markStageComplete('stage3');
                goToStage(4);
            };

            return (
                <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                    <div className="text-center mb-8">
                        <div className="text-6xl mb-6 bounce">âœ…</div>
                        <h2 className="text-3xl font-bold text-gray-800 mb-4">3ë‹¨ê³„: AI ì‚¬ìš© ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
                        <p className="text-gray-600 mb-4">AIë¥¼ ì‚¬ìš©í•˜ê¸° ì „, ì‚¬ìš© ì¤‘, ì‚¬ìš© í›„ì— í™•ì¸í•´ì•¼ í•  ì‚¬í•­ë“¤ì…ë‹ˆë‹¤</p>
                        <div className="inline-block bg-purple-100 px-6 py-3 rounded-full">
                            <p className="text-purple-800 font-bold text-lg">
                                {checkedCount} / {totalItems} í•­ëª© í™•ì¸ ì™„ë£Œ
                            </p>
                        </div>
                    </div>

                    <div className="space-y-6 mb-8">
                        {checklistItems.map((category) => (
                            <div key={category.id} className="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 border-2 border-purple-200">
                                <h3 className="text-xl font-bold text-purple-800 mb-4">{category.category}</h3>
                                <div className="space-y-3">
                                    {category.items.map((item) => (
                                        <div
                                            key={item.id}
                                            onClick={() => handleCheck(item.id)}
                                            className={`flex items-start p-4 rounded-xl cursor-pointer transition-all border-2 ${
                                                checkedItems[item.id]
                                                    ? 'bg-green-50 border-green-400'
                                                    : 'bg-white border-gray-300 hover:border-purple-400'
                                            }`}>
                                            <div className={`flex-shrink-0 w-6 h-6 rounded border-2 mr-4 mt-0.5 flex items-center justify-center transition-all ${
                                                checkedItems[item.id]
                                                    ? 'bg-green-500 border-green-500'
                                                    : 'bg-white border-gray-400'
                                            }`}>
                                                {checkedItems[item.id] && (
                                                    <svg className="w-4 h-4 text-white" fill="none" strokeLinecap="round" strokeLinejoin="round" strokeWidth="3" viewBox="0 0 24 24" stroke="currentColor">
                                                        <path d="M5 13l4 4L19 7"></path>
                                                    </svg>
                                                )}
                                            </div>
                                            <p className="text-gray-800 flex-1">{item.text}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        ))}
                    </div>

                    {allChecked && (
                        <div className="bg-green-100 border-2 border-green-400 rounded-2xl p-6 mb-6 fade-in">
                            <div className="flex items-center justify-center">
                                <span className="text-4xl mr-4">ğŸ‰</span>
                                <div>
                                    <h4 className="text-xl font-bold text-green-800 mb-2">ëª¨ë“  í•­ëª©ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤!</h4>
                                    <p className="text-green-700">ì´ì œ ë§ˆì§€ë§‰ ë‹¨ê³„ë¡œ ì´ë™í•˜ì—¬ ì´í•´ë„ë¥¼ ì ê²€í•´ë´…ì‹œë‹¤.</p>
                                </div>
                            </div>
                        </div>
                    )}

                    <button 
                        onClick={handleNext}
                        disabled={!allChecked}
                        className={`w-full text-xl font-bold py-5 px-8 rounded-2xl transition-all ${
                            allChecked
                                ? 'bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-2xl transform hover:scale-105'
                                : 'bg-gray-300 text-gray-500 cursor-not-allowed'
                        }`}>
                        {allChecked ? '4ë‹¨ê³„ë¡œ ì´ë™ âœ' : 'ëª¨ë“  í•­ëª©ì„ ì²´í¬í•´ì£¼ì„¸ìš”'}
                    </button>
                </div>
            );
        }

        function Stage4({ goToStage, setStage4Score, setTotalScore, stage1Score, markStageComplete }) {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [showFeedback, setShowFeedback] = useState(false);
            const [earnedScore, setEarnedScore] = useState(0);

            const questions = [
                {
                    id: 'q1',
                    question: 'AI ë¦¬í„°ëŸ¬ì‹œê°€ ë†’ì€ í•™ìƒì´ ê³¼ì œë¥¼ ìˆ˜í–‰í•˜ëŠ” ê³¼ì •ìœ¼ë¡œ ê°€ì¥ ì ì ˆí•œ ê²ƒì€?',
                    options: [
                        { id: 'a', text: 'AIì—ê²Œ ê°œìš”ì™€ ë³¸ë¬¸ì„ ì“°ê²Œ í•œ ë’¤, ë¬¸ì¥ ì„±ë¶„ë§Œ ìì—°ìŠ¤ëŸ½ê²Œ ë‹¤ë“¬ì–´ ì œì¶œí•œë‹¤.', correct: false },
                        { id: 'b', text: 'AIë¡œ ë¸Œë ˆì¸ìŠ¤í† ë°í•œ ì•„ì´ë””ì–´ë¥¼ ë¹„íŒì ìœ¼ë¡œ ê²€í† í•˜ê³ , ìì‹ ë§Œì˜ ì–¸ì–´ë¡œ ë¶„ì„ì„ ì™„ì„±í•œë‹¤.', correct: true },
                        { id: 'c', text: 'AIì˜ ì •ë³´ê°€ í‹€ë¦´ ìˆ˜ ìˆìœ¼ë¯€ë¡œ AI í™œìš©ì„ ì „ë©´ ì¤‘ë‹¨í•˜ê³  ì „í†µì ì¸ ë„ì„œê´€ ìë£Œë§Œ ì´ìš©í•œë‹¤.', correct: false },
                        { id: 'd', text: 'AI ê²°ê³¼ë¬¼ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë˜, ì¶œì²˜ í‘œì‹œë§Œ ì‘ê²Œ ë‚¨ê²¨ ë…ì°½ì„±ì„ ìœ ì§€í•´ ë³´ì´ê²Œ í•œë‹¤.', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIëŠ” ë³´ì¡°ì ì¸ ë„êµ¬ì¼ ë¿ì´ë©°, ìµœì¢…ì ì¸ ë¶„ì„ê³¼ ì„œìˆ ì˜ ì£¼ì²´ëŠ” í•­ìƒ ì‚¬ìš©ì ë³¸ì¸ì´ì–´ì•¼ í•©ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 'q2',
                    question: 'AI ì•Œê³ ë¦¬ì¦˜ì´ íŠ¹ì • ì§‘ë‹¨ì— ëŒ€í•´ ë¶€ì •ì ì¸ ê³ ì •ê´€ë…ì„ ìƒì„±í–ˆì„ ë•Œ, ì„±ìˆ™í•œ ë””ì§€í„¸ ì‹œë¯¼ì˜ ìì„¸ëŠ”?',
                    options: [
                        { id: 'a', text: 'ì¸ê°„ë³´ë‹¤ ë°©ëŒ€í•œ ë°ì´í„°ë¥¼ í•™ìŠµí•œ AIì˜ íŒë‹¨ì´ë¯€ë¡œ ê°ê´€ì  ì‚¬ì‹¤ë¡œ ìˆ˜ìš©í•œë‹¤.', correct: false },
                        { id: 'b', text: 'ê°œì¸ì ì¸ ì‚¬ìš©ì¼ ë¿ì´ë¯€ë¡œ ì‚¬íšŒì  íŒŒì¥ì„ ê³ ë ¤í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ í™œìš©í•œë‹¤.', correct: false },
                        { id: 'c', text: 'í¸í–¥ì„±ì„ ì¸ì§€í•˜ê³  ê²°ê³¼ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜, í•´ë‹¹ ì˜¤ë¥˜ë¥¼ ê°œë°œì‚¬ì— í”¼ë“œë°±í•˜ì—¬ ê°œì„ ì„ ë•ëŠ”ë‹¤.', correct: true },
                        { id: 'd', text: 'AIì˜ ì˜ëª»ì´ë¯€ë¡œ ì‚¬ìš©ìëŠ” ì•„ë¬´ëŸ° ë„ë•ì  ì±…ì„ì„ ì§ˆ í•„ìš”ê°€ ì—†ë‹¤ê³  ìƒê°í•œë‹¤.', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIì˜ ê²°ê³¼ë¬¼ì— ëŒ€í•œ ë¹„íŒì  ìˆ˜ìš©ê³¼ ì‚¬íšŒì  í”¼ë“œë°±ì€ ì±…ì„ê° ìˆëŠ” ì‚¬ìš©ìì˜ ì˜ë¬´ì…ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 'q3',
                    question: 'AI ì„œë¹„ìŠ¤ ì•½ê´€ì— ëª…ì‹œëœ "ë°ì´í„° í™œìš©"ì— ëŒ€í•œ ì´í•´ë¡œ ê°€ì¥ ì ì ˆí•œ ê²ƒì€?',
                    options: [
                        { id: 'a', text: 'ë¬´ë£Œ ì„œë¹„ìŠ¤ëŠ” ë‚´ ê°œì¸ì •ë³´ë¥¼ ëŒ€ê°€ë¡œ ì œê³µí•˜ëŠ” ê²ƒì´ë¯€ë¡œ ë³´ì•ˆì„ ê¸°ëŒ€í•  ìˆ˜ ì—†ë‹¤.', correct: false },
                        { id: 'b', text: 'ì…ë ¥í•œ ë°ì´í„°ê°€ ëª¨ë¸ í•™ìŠµì— ì‚¬ìš©ë  ìˆ˜ ìˆìŒì„ ì¸ì§€í•˜ê³ , ê¸°ë°€ì´ë‚˜ ê°œì¸ì •ë³´ë¥¼ ë³´í˜¸í•œë‹¤.', correct: true },
                        { id: 'c', text: 'AI ì‹œìŠ¤í…œì€ ê³ ë„ë¡œ ë³´ì•ˆí™”ë˜ì–´ ìˆì–´ ì–´ë–¤ ì •ë³´ë¥¼ ì…ë ¥í•´ë„ ì™¸ë¶€ ìœ ì¶œ ìœ„í—˜ì´ ì—†ë‹¤.', correct: false },
                        { id: 'd', text: 'ì•½ê´€ì€ í˜•ì‹ì ì¸ ê²ƒì´ë¯€ë¡œ ê¼¼ê¼¼íˆ ì½ê¸°ë³´ë‹¤ ë¹ ë¥¸ ì‚¬ìš©ì„ ìœ„í•´ ë™ì˜ë¥¼ ëˆ„ë¥´ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë‹¤.', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! ì…ë ¥ ë°ì´í„°ê°€ ì¬í•™ìŠµì— í™œìš©ë  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì´í•´í•˜ëŠ” ê²ƒì€ ê°œì¸ì •ë³´ ë³´í˜¸ì˜ ì‹œì‘ì…ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 'q4',
                    question: 'AIì™€ "ê³µì¡´"í•˜ëŠ” ë¯¸ë˜ ì‚¬íšŒì—ì„œ ê°€ì¥ ê°•ì¡°ë˜ëŠ” ì‚¬ìš©ìì˜ ì±…ì„ì€?',
                    options: [
                        { id: 'a', text: 'AIê°€ ë‚´ë¦° ëª¨ë“  ê²°ì •ê³¼ ìƒì„±ë¬¼ì— ëŒ€í•´ ì‚¬ìš©ìê°€ ìµœì¢… ì±…ì„ì„ ì§€ëŠ” íƒœë„', correct: true },
                        { id: 'b', text: 'ìµœëŒ€í•œ ê³ ì„±ëŠ¥ì˜ AIë¥¼ í™œìš©í•˜ì—¬ íƒ€ì¸ë³´ë‹¤ ë›°ì–´ë‚œ ê²°ê³¼ë¬¼ì„ ë§Œë“œëŠ” ëŠ¥ë ¥', correct: false },
                        { id: 'c', text: 'AIì—ê²Œ ëª¨ë“  ì±…ì„ì„ ì „ê°€í•  ìˆ˜ ìˆë„ë¡ ë²•ì ì¸ ë³´í˜¸ ì¥ì¹˜ë¥¼ ë§ˆë ¨í•˜ëŠ” ê²ƒ', correct: false },
                        { id: 'd', text: 'AI ê¸°ìˆ  ë°œì „ì„ ìœ„í•´ ìì‹ ì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ê¸°êº¼ì´ ì œê³µí•˜ëŠ” í—Œì‹ ', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! ê¸°ìˆ ì€ ë„êµ¬ì¼ ë¿ì´ë©°, ê·¸ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¸ê°„ì´ ê·¸ì— ë”°ë¥¸ ê¶Œë¦¬ì™€ ì±…ì„ì„ ë™ì‹œì— ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 'q5',
                    question: 'AIë¥¼ í™œìš©í•œ ë”¥í˜ì´í¬(Deepfake) ê¸°ìˆ ì— ëŒ€í•œ ìœ¤ë¦¬ì  íŒë‹¨ìœ¼ë¡œ ì˜³ì€ ê²ƒì€?',
                    options: [
                        { id: 'a', text: 'ë‹¨ìˆœí•œ ìœ ë¨¸ë‚˜ ì¬ë¯¸ë¥¼ ìœ„í•œ ê²ƒì´ë¼ë©´ ë‹¹ì‚¬ì ë™ì˜ ì—†ì´ë„ í—ˆìš©ë  ìˆ˜ ìˆë‹¤.', correct: false },
                        { id: 'b', text: 'ê³µìµì ì¸ ëª©ì (ì˜ˆ: êµìœ¡ìš©)ì´ë¼ë„ ì´ˆìƒê¶Œìì˜ ëª…í™•í•œ ë™ì˜ì™€ íˆ¬ëª…í•œ í‘œì‹œê°€ ìˆ˜ë°˜ë˜ì–´ì•¼ í•œë‹¤.', correct: true },
                        { id: 'c', text: 'ê¸°ìˆ ì ìœ¼ë¡œ ì™„ë²½í•˜ì—¬ ê°€ì§œì„ì„ ì•Œ ìˆ˜ ì—†ë‹¤ë©´ ì˜ˆìˆ ì  ì°½ì˜ì„±ìœ¼ë¡œ ì¸ì •í•´ì•¼ í•œë‹¤.', correct: false },
                        { id: 'd', text: 'ì˜¨ë¼ì¸ì— ê³µê°œëœ ì‚¬ì§„ì€ ê³µê³µì¬ì´ë¯€ë¡œ AI ë³€í˜•ì— ëŒ€í•´ í•­ì˜í•  ìˆ˜ ì—†ë‹¤.', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! íƒ€ì¸ì˜ ì‹ ì²´ë‚˜ ì–¼êµ´ì„ AIë¡œ ì •êµí•˜ê²Œ ë³€í˜•í•˜ëŠ” ê²ƒì€ ì¸ê²©ê¶Œ ì¹¨í•´ì˜ ì†Œì§€ê°€ í¬ë¯€ë¡œ ê·¹ë„ì˜ ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.',
                    points: 10
                }
            ];

            const currentQ = questions[currentQuestion];

            const handleAnswer = (optionId) => {
                if (showFeedback) return;
                setSelectedAnswer(optionId);
                setShowFeedback(true);

                const option = currentQ.options.find(o => o.id === optionId);
                if (option.correct) {
                    setEarnedScore(prev => prev + currentQ.points);
                }
            };

            const handleNext = () => {
                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    setSelectedAnswer(null);
                    setShowFeedback(false);
                } else {
                    setStage4Score(earnedScore);
                    setTotalScore(stage1Score + earnedScore);
                    markStageComplete('stage4');
                    goToStage(5);
                }
            };

            const selectedOption = currentQ.options.find(o => o.id === selectedAnswer);

            return (
                <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                    <div className="text-center mb-8">
                        <div className="text-6xl mb-6 bounce">ğŸ¯</div>
                        <h2 className="text-3xl font-bold text-gray-800 mb-4">4ë‹¨ê³„: ì´í•´ë„ ì ê²€</h2>
                        <div className="flex justify-center gap-2 mb-4">
                            {questions.map((_, idx) => (
                                <div key={idx} className={`w-3 h-3 rounded-full ${idx === currentQuestion ? 'bg-purple-500' : idx < currentQuestion ? 'bg-green-500' : 'bg-gray-300'}`} />
                            ))}
                        </div>
                        <p className="text-gray-600">ë¬¸ì œ {currentQuestion + 1} / {questions.length}</p>
                        <div className="mt-4 inline-block bg-purple-100 px-4 py-2 rounded-full">
                            <p className="text-purple-800 font-bold">íšë“ ì ìˆ˜: {earnedScore}ì  / 50ì </p>
                        </div>
                    </div>

                    <div className="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 mb-6 border-2 border-blue-200">
                        <h3 className="text-xl font-bold text-gray-800 mb-6 text-center">{currentQ.question}</h3>
                        
                        <div className="space-y-3 mb-6">
                            {currentQ.options.map((option) => (
                                <button
                                    key={option.id}
                                    onClick={() => handleAnswer(option.id)}
                                    disabled={showFeedback}
                                    className={`w-full text-left p-4 rounded-xl border-2 transition-all ${
                                        showFeedback
                                            ? option.correct
                                                ? 'bg-green-100 border-green-500'
                                                : option.id === selectedAnswer
                                                ? 'bg-red-100 border-red-500'
                                                : 'bg-gray-50 border-gray-300'
                                            : selectedAnswer === option.id
                                            ? 'bg-purple-100 border-purple-500'
                                            : 'bg-white border-gray-300 hover:border-purple-400 hover:bg-purple-50'
                                    }`}>
                                    <div className="flex items-center">
                                        <div className={`w-8 h-8 rounded-full border-2 mr-4 flex items-center justify-center font-bold flex-shrink-0 ${
                                            showFeedback && option.correct
                                                ? 'bg-green-500 border-green-500 text-white'
                                                : showFeedback && option.id === selectedAnswer
                                                ? 'bg-red-500 border-red-500 text-white'
                                                : 'border-gray-400 text-gray-600'
                                        }`}>
                                            {showFeedback && option.correct ? 'âœ“' : showFeedback && option.id === selectedAnswer ? 'âœ—' : option.id.toUpperCase()}
                                        </div>
                                        <span className="flex-1 text-gray-800">{option.text}</span>
                                    </div>
                                </button>
                            ))}
                        </div>

                        {showFeedback && (
                            <div className={`rounded-2xl p-6 mb-6 border-2 fade-in ${
                                selectedOption?.correct 
                                    ? 'bg-green-50 border-green-300' 
                                    : 'bg-orange-50 border-orange-300'
                            }`}>
                                <div className="flex items-start">
                                    <div className="text-4xl mr-4">{selectedOption?.correct ? 'ğŸ‰' : 'ğŸ’¡'}</div>
                                    <div className="flex-1">
                                        <h4 className={`text-xl font-bold mb-2 ${selectedOption?.correct ? 'text-green-800' : 'text-orange-800'}`}>
                                            {selectedOption?.correct ? `ì •ë‹µì…ë‹ˆë‹¤! +${currentQ.points}ì ` : 'ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”!'}
                                        </h4>
                                        <p className="text-gray-700">{currentQ.explanation}</p>
                                    </div>
                                </div>
                            </div>
                        )}

                        {showFeedback && (
                            <button onClick={handleNext}
                                className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xl font-bold py-5 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all">
                                {currentQuestion < questions.length - 1 ? 'ë‹¤ìŒ ë¬¸ì œ âœ' : 'ê²°ê³¼ í™•ì¸ âœ'}
                            </button>
                        )}
                    </div>
                </div>
            );
        }

        function Stage5({ totalScore, stage1Score, stage4Score, markStageComplete }) {
            const certRef = useRef(null);
            const [declaration, setDeclaration] = useState("");

            const declarationExamples = [
                "ë‚˜ëŠ” AIë¥¼ ì‚¬ìš©í•  ë•Œ í•­ìƒ ë‚˜ì˜ ë¹„íŒì  ì‚¬ê³ ë¥¼ ë”í•˜ê² ìŠµë‹ˆë‹¤.",
                "ë‚˜ëŠ” AIê°€ ìƒì„±í•œ ëª¨ë“  ê²°ê³¼ì— ëŒ€í•´ ìŠ¤ìŠ¤ë¡œ ì±…ì„ì„ ì§€ê² ìŠµë‹ˆë‹¤.",
                "ë‚˜ëŠ” AIë¥¼ íƒ€ì¸ì—ê²Œ í•´ë¥¼ ë¼ì¹˜ê±°ë‚˜ ì†ì´ëŠ” ëª©ì ìœ¼ë¡œ ì“°ì§€ ì•Šê² ìŠµë‹ˆë‹¤.",
                "ë‚˜ëŠ” AIë¥¼ ë‚˜ì˜ ì„±ì¥ì„ ë•ëŠ” í˜„ëª…í•œ íŒŒíŠ¸ë„ˆë¡œ í™œìš©í•˜ê² ìŠµë‹ˆë‹¤.",
                "ë‚˜ëŠ” AI ê²°ê³¼ë¬¼ì˜ ì¶œì²˜ë¥¼ íˆ¬ëª…í•˜ê²Œ ë°í˜€ ë””ì§€í„¸ ì •ì§ì„±ì„ ì§€í‚¤ê² ìŠµë‹ˆë‹¤."
            ];

            React.useEffect(() => {
                markStageComplete('stage5');
            }, []);

            let level = '', emoji = '', message = '';
            if (totalScore >= 160) {
                level = 'AI ì±…ì„ ì „ë¬¸ê°€';
                emoji = 'ğŸ†';
                message = 'í›Œë¥­í•©ë‹ˆë‹¤! AIë¥¼ ì±…ì„ê° ìˆê²Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì™„ë²½íˆ ì´í•´í–ˆìŠµë‹ˆë‹¤.';
            } else if (totalScore >= 120) {
                level = 'AI ì±…ì„ ì‹¤ì²œê°€';
                emoji = 'ğŸ“';
                message = 'ì˜í–ˆì–´ìš”! AI ì‚¬ìš©ì˜ ì±…ì„ì— ëŒ€í•´ ì˜ ì´í•´í•˜ê³  ìˆìŠµë‹ˆë‹¤.';
            } else {
                level = 'AI ì±…ì„ í•™ìŠµì';
                emoji = 'ğŸŒ±';
                message = 'ì¢‹ì€ ì‹œì‘ì…ë‹ˆë‹¤! ë³µìŠµì„ í†µí•´ ë” ê¹Šì´ ì´í•´í•´ë´…ì‹œë‹¤.';
            }

            const downloadCert = () => {
                html2canvas(certRef.current, { scale: 2, backgroundColor: '#ffffff' }).then(canvas => {
                    const link = document.createElement('a');
                    link.download = 'AIì±…ì„_ìˆ˜ë£Œì¦.png';
                    link.href = canvas.toDataURL();
                    link.click();
                });
            };

            return (
                <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                    <div className="text-center mb-8">
                        <div className="text-7xl mb-6 bounce">{emoji}</div>
                        <h2 className="text-4xl font-bold text-gray-800 mb-6">í•™ìŠµ ì™„ë£Œ!</h2>
                    </div>

                    <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-3xl p-8 mb-6 border-2 border-purple-200">
                        <h3 className="text-2xl font-bold text-purple-800 mb-4 text-center">ğŸ“Š ìµœì¢… ì ìˆ˜</h3>
                        <div className="text-center mb-6">
                            <div className="text-6xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4">
                                {totalScore}ì 
                            </div>
                            <div className="text-xl text-gray-600">/ {MAX_SCORE}ì </div>
                        </div>

                        <div className="grid md:grid-cols-2 gap-4 mb-6">
                            <div className="bg-white rounded-xl p-4 border-2 border-purple-300">
                                <div className="text-sm text-gray-600 mb-1">1ë‹¨ê³„: ìƒí™© íŒë‹¨</div>
                                <div className="text-3xl font-bold text-purple-600">{stage1Score}ì </div>
                                <div className="text-xs text-gray-500">/ 150ì </div>
                            </div>
                            <div className="bg-white rounded-xl p-4 border-2 border-purple-300">
                                <div className="text-sm text-gray-600 mb-1">4ë‹¨ê³„: ì´í•´ë„ ì ê²€</div>
                                <div className="text-3xl font-bold text-purple-600">{stage4Score}ì </div>
                                <div className="text-xs text-gray-500">/ 50ì </div>
                            </div>
                        </div>

                        <div className="bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6">
                            <div className="text-sm text-yellow-800 mb-1">ë‹¹ì‹ ì˜ ë ˆë²¨</div>
                            <div className="text-3xl font-bold text-yellow-700 mb-2">{level}</div>
                            <p className="text-yellow-700">{message}</p>
                        </div>
                    </div>

                    <div ref={certRef} className="bg-gradient-to-br from-purple-50 via-white to-pink-50 rounded-3xl p-10 mb-8 border-4 border-purple-300 shadow-2xl">
                        <div className="text-6xl mb-4 text-center">{emoji}</div>
                        <h3 className="text-3xl font-bold text-purple-800 mb-4 text-center">ìˆ˜ë£Œì¦</h3>
                        <div className="bg-white bg-opacity-60 rounded-2xl p-8">
                            <p className="text-gray-700 text-lg mb-4 text-center">ì´ ìˆ˜ë£Œì¦ì€ ë‹¤ìŒ ì‚¬ëŒì´</p>
                            <div className="bg-yellow-100 border-2 border-yellow-400 rounded-xl p-4 mb-6">
                                <input type="text" placeholder="ì—¬ê¸°ì— ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" className="text-2xl font-bold text-center w-full bg-transparent border-none outline-none" />
                            </div>
                            
                            <p className="text-gray-700 text-lg mb-4 text-center">
                                "AIì™€ ë‚˜ì˜ ì±…ì„" êµìœ¡ ê³¼ì •ì„ ì´ìˆ˜í•˜ê³ <br/>
                                ì±…ì„ê° ìˆëŠ” AI ì‚¬ìš© ë°©ë²•ì„ ìŠµë“í–ˆìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.
                            </p>

                            <div className="mt-6 p-4 border-t-2 border-dashed border-purple-200">
                                <p className="text-purple-800 font-bold mb-3">ë‚˜ë§Œì˜ AI ì‚¬ìš© ì„ ì–¸ë¬¸:</p>
                                <textarea 
                                    className="w-full p-3 rounded-lg border-2 border-purple-100 bg-white bg-opacity-80 text-gray-700 focus:border-purple-300 outline-none resize-none"
                                    rows="2"
                                    placeholder="ë‚˜ë§Œì˜ ì„ ì–¸ë¬¸ì„ ì…ë ¥í•˜ê±°ë‚˜ ì•„ë˜ ì˜ˆì‹œë¥¼ ì„ íƒí•˜ì„¸ìš”."
                                    value={declaration}
                                    onChange={(e) => setDeclaration(e.target.value)}
                                ></textarea>
                                <div className="mt-3 flex flex-wrap gap-2 no-print">
                                    {declarationExamples.map((ex, i) => (
                                        <button 
                                            key={i} 
                                            onClick={() => setDeclaration(ex)}
                                            className="text-xs bg-purple-100 hover:bg-purple-200 text-purple-700 py-1 px-2 rounded-lg transition-colors"
                                        >
                                            ì˜ˆì‹œ {i+1}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            <div className="flex justify-around items-center mt-8">
                                <div className="text-center">
                                    <div className="text-2xl font-bold text-purple-600">{totalScore}ì  ë‹¬ì„±</div>
                                    <div className="text-lg font-bold text-yellow-700">{level}</div>
                                </div>
                                <div className="text-right text-gray-500 text-sm">
                                    {new Date().toLocaleDateString('ko-KR')}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="bg-blue-50 rounded-2xl p-6 mb-6 border-2 border-blue-300">
                        <h3 className="text-xl font-bold text-blue-800 mb-4">ğŸ’¡ ê¸°ì–µí•˜ì„¸ìš”</h3>
                        <ul className="space-y-2 text-gray-700">
                            <li>âœ… AI ì‚¬ìš©ì˜ ìµœì¢… ì±…ì„ì€ í•­ìƒ ì‚¬ìš©ìì—ê²Œ ìˆìŠµë‹ˆë‹¤</li>
                            <li>âœ… AIë¥¼ ìœ¤ë¦¬ì ì´ê³  í•©ë²•ì ì¸ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì„¸ìš”</li>
                            <li>âœ… AIê°€ ì œê³µí•œ ì •ë³´ëŠ” ë°˜ë“œì‹œ ê²€ì¦í•˜ì„¸ìš”</li>
                            <li>âœ… íƒ€ì¸ì˜ ê°œì¸ì •ë³´ë¥¼ AIì— ì…ë ¥í•˜ì§€ ë§ˆì„¸ìš”</li>
                            <li>âœ… AIëŠ” ë„êµ¬ì…ë‹ˆë‹¤. í˜„ëª…í•˜ê²Œ í™œìš©í•˜ì„¸ìš”</li>
                        </ul>
                    </div>

                    <button onClick={downloadCert} className="w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white text-xl font-bold py-5 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all">
                        ğŸ“¥ ìˆ˜ë£Œì¦ ë‹¤ìš´ë¡œë“œí•˜ê¸°
                    </button>
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<AIResponsibility />);
    </script>
</body>
</html>