<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIì™€ ë‚˜ì˜ ì±…ì„</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .bounce { animation: bounce 0.5s ease; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useRef } = React;
        const MAX_SCORE = 100;

        function AIResponsibility() {
            const [stage, setStage] = useState(0);
            const [totalScore, setTotalScore] = useState(0);
            const [stage1Score, setStage1Score] = useState(0);
            const [stage4Score, setStage4Score] = useState(0);
            const [completedStages, setCompletedStages] = useState({
                stage1: false, stage2: false, stage3: false, stage4: false, stage5: false
            });
            
            const goToStage = (stageNum) => setStage(stageNum);

            const markStageComplete = (stageKey) => {
                setCompletedStages(prev => ({ ...prev, [stageKey]: true }));
            };

            const stages = [
                { component: IntroStage },
                { component: Stage1 },
                { component: Stage2 },
                { component: Stage3 },
                { component: Stage4 },
                { component: Stage5 }
            ];
            const CurrentComponent = stages[stage].component;

            return (
                <div className="min-h-screen py-8 px-4">
                    <div className="max-w-5xl mx-auto">
                        <div className="text-center mb-6 fade-in">
                            <h1 className="text-4xl md:text-5xl font-bold text-white mb-4">ğŸ¤ AIì™€ ë‚˜ì˜ ì±…ì„</h1>
                            <p className="text-xl text-white opacity-90">ì±…ì„ê° ìˆëŠ” AI ì‚¬ìš©ë²• ë°°ìš°ê¸°</p>
                        </div>
                        {/* ìˆ˜ì •ëœ ë¶€ë¶„: stage <= 5ë¡œ ë³€ê²½í•˜ì—¬ ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œë„ í‘œì‹œë˜ë„ë¡ í•¨ */}
                        {stage > 0 && stage <= 5 && (
                            <div className="mb-6 no-print">
                                <div className="bg-white bg-opacity-20 rounded-2xl p-4 backdrop-blur-sm mb-4">
                                    <div className="flex justify-between items-center">
                                        <div className="text-white font-bold text-lg">
                                            ğŸ† ì ìˆ˜: <span className="text-yellow-300 text-2xl">{totalScore}</span> / {MAX_SCORE}ì 
                                        </div>
                                        <div className="text-white font-bold text-lg">ğŸ“ {stage}/5 ë‹¨ê³„</div>
                                    </div>
                                </div>
                                <div className="bg-white bg-opacity-20 rounded-2xl p-4 backdrop-blur-sm">
                                    <div className="flex justify-around items-center">
                                        {['ìƒí™© íŒë‹¨', 'ì›ì¹™ í•™ìŠµ', 'ì²´í¬ë¦¬ìŠ¤íŠ¸', 'ì´í•´ë„ ì ê²€', 'ê²°ê³¼ í™•ì¸'].map((title, idx) => {
                                            const stageNum = idx + 1;
                                            const isCurrentStage = stageNum === stage;
                                            const isCompleted = completedStages[`stage${stageNum}`];
                                            const canAccess = stageNum <= stage;
                                            
                                            return (
                                                <button key={idx} onClick={() => canAccess && goToStage(stageNum)}
                                                    disabled={!canAccess}
                                                    className={`flex flex-col items-center px-2 py-2 rounded-xl transition-all duration-300 ${
                                                        isCurrentStage ? 'bg-purple-500 text-white scale-110'
                                                        : isCompleted ? 'bg-lime-400 text-white hover:scale-105'
                                                        : canAccess ? 'bg-white bg-opacity-30 text-white hover:scale-105'
                                                        : 'bg-white bg-opacity-10 text-white opacity-50 cursor-not-allowed'
                                                    }`}>
                                                    <div className="text-lg mb-1">
                                                        {isCompleted ? 'âœ“' : isCurrentStage ? 'â–¶' : stageNum}
                                                    </div>
                                                    <div className="text-xs font-bold">{title}</div>
                                                </button>
                                            );
                                        })}
                                    </div>
                                </div>
                            </div>
                        )}
                        <CurrentComponent
                            goToStage={goToStage} 
                            totalScore={totalScore}
                            setTotalScore={setTotalScore}
                            stage1Score={stage1Score}
                            setStage1Score={setStage1Score}
                            stage4Score={stage4Score}
                            setStage4Score={setStage4Score}
                            markStageComplete={markStageComplete}
                        />
                    </div>
                </div>
            );
        }

        function IntroStage({ goToStage }) {
            return (
                <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                    <div className="text-center mb-8">
                        <div className="text-6xl mb-6 bounce">ğŸ¤</div>
                        <h2 className="text-3xl font-bold text-gray-800 mb-4">AIì™€ í•¨ê»˜í•˜ëŠ” ì±…ì„ê° ìˆëŠ” ë¯¸ë˜</h2>
                        <p className="text-lg text-gray-600 leading-relaxed mb-6">
                            AIëŠ” ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠëƒì— ë”°ë¼<br/>
                            ê¸ì •ì ì¸ ì˜í–¥ê³¼ ë¶€ì •ì ì¸ ì˜í–¥ì„ ëª¨ë‘ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br/>
                            í•¨ê»˜ ì±…ì„ê° ìˆëŠ” AI ì‚¬ìš©ë²•ì„ ë°°ì›Œë´…ì‹œë‹¤!
                        </p>
                    </div>

                    <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 mb-8 border-2 border-purple-200">
                        <h3 className="text-xl font-bold text-purple-800 mb-4">ğŸ¯ í•™ìŠµ ëª©í‘œ</h3>
                        <div className="space-y-3 text-left">
                            <div className="flex items-start">
                                <span className="text-2xl mr-3">âš–ï¸</span>
                                <p className="text-gray-700 flex-1">AI ì‚¬ìš© ìƒí™©ì—ì„œ <span className="font-bold">ìœ¤ë¦¬ì  íŒë‹¨</span>ì„ ë‚´ë¦´ ìˆ˜ ìˆë‹¤</p>
                            </div>
                            <div className="flex items-start">
                                <span className="text-2xl mr-3">ğŸ›¡ï¸</span>
                                <p className="text-gray-700 flex-1">AI ì‚¬ìš© ì‹œ <span className="font-bold">ì±…ì„ì˜ ë²”ìœ„</span>ë¥¼ ì´í•´í•  ìˆ˜ ìˆë‹¤</p>
                            </div>
                            <div className="flex items-start">
                                <span className="text-2xl mr-3">âœ…</span>
                                <p className="text-gray-700 flex-1"><span className="font-bold">ì‹¤ì²œ ê°€ëŠ¥í•œ ê°€ì´ë“œë¼ì¸</span>ì„ ìŠµë“í•  ìˆ˜ ìˆë‹¤</p>
                            </div>
                        </div>
                    </div>

                    <div className="bg-gradient-to-r from-blue-50 to-cyan-50 rounded-2xl p-6 mb-8 border-2 border-blue-200">
                        <h3 className="text-xl font-bold text-blue-800 mb-4">ğŸ—ºï¸ í•™ìŠµ ê³¼ì •</h3>
                        <div className="grid md:grid-cols-5 gap-3">
                            {[
                                { icon: 'âš–ï¸', title: '1ë‹¨ê³„', desc: 'ìƒí™© íŒë‹¨' },
                                { icon: 'ğŸ“š', title: '2ë‹¨ê³„', desc: 'ì›ì¹™ í•™ìŠµ' },
                                { icon: 'âœ…', title: '3ë‹¨ê³„', desc: 'ì²´í¬ë¦¬ìŠ¤íŠ¸' },
                                { icon: 'ğŸ¯', title: '4ë‹¨ê³„', desc: 'ì´í•´ë„ ì ê²€' },
                                { icon: 'ğŸ†', title: '5ë‹¨ê³„', desc: 'ê²°ê³¼ í™•ì¸' }
                            ].map((step, idx) => (
                                <div key={idx} className="bg-white rounded-xl p-3 text-center">
                                    <div className="text-2xl mb-1">{step.icon}</div>
                                    <div className="font-bold text-gray-800 text-xs mb-1">{step.title}</div>
                                    <div className="text-xs text-gray-600">{step.desc}</div>
                                </div>
                            ))}
                        </div>
                    </div>

                    <button onClick={() => goToStage(1)}
                        className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xl font-bold py-5 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all">
                        ğŸ¯ í•™ìŠµ ì‹œì‘í•˜ê¸°
                    </button>
                </div>
            );
        }

        function Stage1({ goToStage, setStage1Score, setTotalScore, markStageComplete }) {
            const [currentScenario, setCurrentScenario] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [showFeedback, setShowFeedback] = useState(false);
            const [earnedScore, setEarnedScore] = useState(0);

            const scenarios = [
                {
                    id: 's1',
                    situation: 'í•™êµ ê³¼ì œë¡œ "ê¸°í›„ë³€í™”ì˜ ì˜í–¥" ë³´ê³ ì„œë¥¼ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. AIì—ê²Œ ì „ì²´ ë³´ê³ ì„œë¥¼ ì‘ì„±í•˜ë„ë¡ ìš”ì²­í•˜ê³ , ê·¸ëŒ€ë¡œ ì œì¶œí–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: false },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: true }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIê°€ ì‘ì„±í•œ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ì œì¶œí•˜ëŠ” ê²ƒì€ í‘œì ˆì— í•´ë‹¹í•˜ë©°, í•™ìŠµ ê¸°íšŒë¥¼ ë†“ì¹˜ê²Œ ë©ë‹ˆë‹¤. AIëŠ” ì°¸ê³  ìë£Œë¡œë§Œ í™œìš©í•˜ê³ , ìì‹ ì˜ ìƒê°ê³¼ ë¶„ì„ì„ ë‹´ì•„ì•¼ í•©ë‹ˆë‹¤.',
                    wrongExplanation: 'ì•„ì‰½ìŠµë‹ˆë‹¤. AIê°€ ì‘ì„±í•œ ë‚´ìš©ì„ ìì‹ ì˜ ê²ƒì²˜ëŸ¼ ì œì¶œí•˜ëŠ” ê²ƒì€ í‘œì ˆì…ë‹ˆë‹¤. AIëŠ” ì•„ì´ë””ì–´ë¥¼ ì–»ê±°ë‚˜ ì´ˆì•ˆì„ ì‘ì„±í•˜ëŠ” ë° ë„ì›€ì„ ì¤„ ìˆ˜ ìˆì§€ë§Œ, ìµœì¢… ê²°ê³¼ë¬¼ì€ ìì‹ ì˜ ì´í•´ì™€ ìƒê°ì´ ë‹´ê²¨ì•¼ í•©ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's2',
                    situation: 'ì¹œêµ¬ê°€ ìˆ˜í•™ ë¬¸ì œë¥¼ ì–´ë ¤ì›Œí•˜ê³  ìˆìŠµë‹ˆë‹¤. AIì—ê²Œ ë¬¸ì œë¥¼ ì…ë ¥í•˜ê³  í’€ì´ ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ì„¤ëª…í•´ë‹¬ë¼ê³  ìš”ì²­í•œ í›„, ì¹œêµ¬ì™€ í•¨ê»˜ ë³´ë©° ì›ë¦¬ë¥¼ ì´í•´í•˜ë„ë¡ ë„ì™€ì£¼ì—ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: true },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: false }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIë¥¼ í•™ìŠµ ë„êµ¬ë¡œ í™œìš©í•˜ì—¬ ê°œë…ì„ ì´í•´í•˜ëŠ” ë° ë„ì›€ì„ ë°›ëŠ” ê²ƒì€ ì±…ì„ê° ìˆëŠ” ì‚¬ìš©ì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ë‹µë§Œ ë³µì‚¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í’€ì´ ê³¼ì •ì„ í•¨ê»˜ í•™ìŠµí–ˆë‹¤ëŠ” ì ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.',
                    wrongExplanation: 'ì´ ê²½ìš°ëŠ” ê´œì°®ìŠµë‹ˆë‹¤! AIë¥¼ ë‹¨ìˆœíˆ ë‹µì„ ì–»ê¸° ìœ„í•œ ë„êµ¬ê°€ ì•„ë‹ˆë¼, í•™ìŠµê³¼ ì´í•´ë¥¼ ë•ëŠ” ì„ ìƒë‹˜ì²˜ëŸ¼ í™œìš©í–ˆìŠµë‹ˆë‹¤. í’€ì´ ê³¼ì •ì„ í•¨ê»˜ ë³´ë©° ì›ë¦¬ë¥¼ ì´í•´í–ˆë‹¤ë©´ ì˜¬ë°”ë¥¸ AI í™œìš©ì…ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's3',
                    situation: 'ì˜¨ë¼ì¸ ì‡¼í•‘ëª°ì—ì„œ êµ¬ë§¤í•œ ì œí’ˆì´ ë§ˆìŒì— ë“¤ì§€ ì•Šì•„ ë¶€ì •ì ì¸ ë¦¬ë·°ë¥¼ ë‚¨ê¸°ë ¤ê³  í•©ë‹ˆë‹¤. AIì—ê²Œ "ì´ ì œí’ˆì„ ë¹„ë‚œí•˜ëŠ” ì•…ì˜ì ì¸ ë¦¬ë·°ë¥¼ ì‘ì„±í•´ì¤˜"ë¼ê³  ìš”ì²­í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: false },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: true }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIë¥¼ ì´ìš©í•´ ì•…ì˜ì ì´ê±°ë‚˜ ê³¼ì¥ëœ ë‚´ìš©ì„ ìƒì„±í•˜ëŠ” ê²ƒì€ íƒ€ì¸ì—ê²Œ í”¼í•´ë¥¼ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¦¬ë·°ëŠ” ì •ì§í•˜ê³  ê°ê´€ì ìœ¼ë¡œ ì‘ì„±í•´ì•¼ í•˜ë©°, AIë¥¼ ë¶€ì •ì  ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.',
                    wrongExplanation: 'ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. AIë¥¼ ì‚¬ìš©í•´ ì•…ì˜ì ì´ê±°ë‚˜ ê³¼ì¥ëœ ì½˜í…ì¸ ë¥¼ ë§Œë“œëŠ” ê²ƒì€ ë‹¤ë¥¸ ì†Œë¹„ìì™€ íŒë§¤ì ëª¨ë‘ì—ê²Œ í”¼í•´ë¥¼ ì¤ë‹ˆë‹¤. ë¶ˆë§Œì´ ìˆë‹¤ë©´ ì‚¬ì‹¤ì— ê¸°ë°˜í•œ ì •ì§í•œ í”¼ë“œë°±ì„ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's4',
                    situation: 'ì˜ì–´ ì´ë©”ì¼ì„ ì‘ì„±í•´ì•¼ í•˜ëŠ”ë° ìì‹ ì´ ì—†ìŠµë‹ˆë‹¤. í•œêµ­ì–´ë¡œ ì´ˆì•ˆì„ ì‘ì„±í•œ í›„, AIì—ê²Œ ì˜ì–´ë¡œ ë²ˆì—­í•˜ê³  ë¬¸ë²•ì„ ë‹¤ë“¬ì–´ë‹¬ë¼ê³  ìš”ì²­í–ˆìŠµë‹ˆë‹¤. AIì˜ ê²°ê³¼ë¥¼ ê²€í† í•˜ê³  ëª‡ ê°€ì§€ í‘œí˜„ì„ ìˆ˜ì •í•œ í›„ ë°œì†¡í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: true },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: false }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! ìì‹ ì˜ ìƒê°ì„ ë‹´ì€ ì´ˆì•ˆì„ ì‘ì„±í•˜ê³ , AIë¥¼ ë²ˆì—­ê³¼ ë¬¸ë²• ê°œì„  ë„êµ¬ë¡œ í™œìš©í–ˆìŠµë‹ˆë‹¤. ìµœì¢…ì ìœ¼ë¡œ ë‚´ìš©ì„ ê²€í† í•˜ê³  ìˆ˜ì •í•œ ê²ƒë„ ì±…ì„ê° ìˆëŠ” íƒœë„ì…ë‹ˆë‹¤.',
                    wrongExplanation: 'ì´ ê²½ìš°ëŠ” ê´œì°®ìŠµë‹ˆë‹¤! AIë¥¼ ì–¸ì–´ ì¥ë²½ì„ ê·¹ë³µí•˜ëŠ” ë„êµ¬ë¡œ ì ì ˆíˆ í™œìš©í–ˆìŠµë‹ˆë‹¤. ìì‹ ì˜ ìƒê°ì„ ë¨¼ì € ì •ë¦¬í–ˆê³ , AIì˜ ê²°ê³¼ë¥¼ ê²€í† í•˜ì—¬ ìµœì¢… í™•ì¸í–ˆë‹¤ëŠ” ì ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 's5',
                    situation: 'SNSì— ì˜¬ë¦´ ê¸€ì„ ì‘ì„± ì¤‘ì…ë‹ˆë‹¤. AIì—ê²Œ "íŠ¹ì • ì •ì¹˜ì¸ì„ ë¹„ë°©í•˜ëŠ” ê°€ì§œ ë‰´ìŠ¤ë¥¼ ê·¸ëŸ´ë“¯í•˜ê²Œ ë§Œë“¤ì–´ì¤˜"ë¼ê³  ìš”ì²­í–ˆìŠµë‹ˆë‹¤.',
                    options: [
                        { id: 'a', text: 'ê´œì°®ë‹¤', correct: false },
                        { id: 'b', text: 'ë¬¸ì œ ìˆë‹¤', correct: true }
                    ],
                    correctExplanation: 'ì •ë‹µì…ë‹ˆë‹¤! ê°€ì§œ ë‰´ìŠ¤ë‚˜ í—ˆìœ„ ì •ë³´ë¥¼ ìƒì„±í•˜ê³  ìœ í¬í•˜ëŠ” ê²ƒì€ ì‹¬ê°í•œ ë¬¸ì œì…ë‹ˆë‹¤. ì´ëŠ” íƒ€ì¸ì˜ ëª…ì˜ˆë¥¼ í›¼ì†í•˜ê³  ì‚¬íšŒì— í˜¼ë€ì„ ì•¼ê¸°í•  ìˆ˜ ìˆìœ¼ë©°, ë²•ì  ì±…ì„ì„ ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                    wrongExplanation: 'ì‹¬ê°í•œ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤! ê°€ì§œ ë‰´ìŠ¤ë‚˜ í—ˆìœ„ ì •ë³´ë¥¼ ë§Œë“¤ê³  í¼ëœ¨ë¦¬ëŠ” ê²ƒì€ ë²•ì ìœ¼ë¡œë„ ì²˜ë²Œë°›ì„ ìˆ˜ ìˆëŠ” í–‰ìœ„ì…ë‹ˆë‹¤. AIë¥¼ ì´ëŸ° ë¶€ì •ì ì¸ ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•´ì„œëŠ” ì ˆëŒ€ ì•ˆ ë©ë‹ˆë‹¤.',
                    points: 10
                }
            ];

            const currentS = scenarios[currentScenario];

            const handleAnswer = (optionId) => {
                if (showFeedback) return;
                setSelectedAnswer(optionId);
                setShowFeedback(true);

                const option = currentS.options.find(o => o.id === optionId);
                if (option.correct) {
                    setEarnedScore(prev => prev + currentS.points);
                }
            };

            const handleNext = () => {
                if (currentScenario < scenarios.length - 1) {
                    setCurrentScenario(currentScenario + 1);
                    setSelectedAnswer(null);
                    setShowFeedback(false);
                } else {
                    setStage1Score(earnedScore);
                    setTotalScore(earnedScore);
                    markStageComplete('stage1');
                    goToStage(2);
                }
            };

            const selectedOption = currentS.options.find(o => o.id === selectedAnswer);

            return (
                <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                    <div className="text-center mb-8">
                        <div className="text-6xl mb-6 bounce">âš–ï¸</div>
                        <h2 className="text-3xl font-bold text-gray-800 mb-4">1ë‹¨ê³„: ìƒí™© íŒë‹¨í•˜ê¸°</h2>
                        <div className="flex justify-center gap-2 mb-4">
                            {scenarios.map((_, idx) => (
                                <div key={idx} className={`w-3 h-3 rounded-full ${idx === currentScenario ? 'bg-purple-500' : idx < currentScenario ? 'bg-green-500' : 'bg-gray-300'}`} />
                            ))}
                        </div>
                        <p className="text-gray-600">ì‹œë‚˜ë¦¬ì˜¤ {currentScenario + 1} / {scenarios.length}</p>
                        <div className="mt-4 inline-block bg-purple-100 px-4 py-2 rounded-full">
                            <p className="text-purple-800 font-bold">íšë“ ì ìˆ˜: {earnedScore}ì </p>
                        </div>
                    </div>

                    <div className="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 mb-6 border-2 border-blue-200">
                        <div className="bg-white rounded-xl p-6 mb-6">
                            <h3 className="text-lg font-bold text-gray-800 mb-4">ğŸ“‹ ìƒí™©</h3>
                            <p className="text-gray-700 leading-relaxed">{currentS.situation}</p>
                        </div>

                        <h3 className="text-xl font-bold text-gray-800 mb-4 text-center">ì´ ìƒí™©ì— ëŒ€í•œ ë‹¹ì‹ ì˜ íŒë‹¨ì€?</h3>
                        
                        <div className="grid grid-cols-2 gap-4 mb-6">
                            {currentS.options.map((option) => (
                                <button
                                    key={option.id}
                                    onClick={() => handleAnswer(option.id)}
                                    disabled={showFeedback}
                                    className={`p-6 rounded-xl border-2 transition-all font-bold text-lg ${
                                        showFeedback
                                            ? option.correct
                                                ? 'bg-green-100 border-green-500 text-green-800'
                                                : option.id === selectedAnswer
                                                ? 'bg-red-100 border-red-500 text-red-800'
                                                : 'bg-gray-50 border-gray-300 text-gray-500'
                                            : selectedAnswer === option.id
                                            ? 'bg-purple-100 border-purple-500 text-purple-800'
                                            : 'bg-white border-gray-300 hover:border-purple-400 hover:bg-purple-50 text-gray-800'
                                    }`}>
                                    {showFeedback && option.correct && <span className="text-2xl mr-2">âœ“</span>}
                                    {showFeedback && !option.correct && option.id === selectedAnswer && <span className="text-2xl mr-2">âœ—</span>}
                                    {option.text}
                                </button>
                            ))}
                        </div>

                        {showFeedback && (
                            <div className={`rounded-2xl p-6 mb-6 border-2 fade-in ${
                                selectedOption?.correct 
                                    ? 'bg-green-50 border-green-300' 
                                    : 'bg-orange-50 border-orange-300'
                            }`}>
                                <div className="flex items-start">
                                    <div className="text-4xl mr-4">{selectedOption?.correct ? 'ğŸ‰' : 'ğŸ’­'}</div>
                                    <div className="flex-1">
                                        <h4 className={`text-xl font-bold mb-3 ${selectedOption?.correct ? 'text-green-800' : 'text-orange-800'}`}>
                                            {selectedOption?.correct ? `ì˜í–ˆì–´ìš”! +${currentS.points}ì ` : 'ë‹¤ì‹œ ìƒê°í•´ë´ìš”'}
                                        </h4>
                                        <p className="text-gray-800">
                                            {selectedOption?.correct ? currentS.correctExplanation : currentS.wrongExplanation}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        )}

                        {showFeedback && (
                            <button onClick={handleNext}
                                className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xl font-bold py-5 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all">
                                {currentScenario < scenarios.length - 1 ? 'ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ âœ' : '2ë‹¨ê³„ë¡œ ì´ë™ âœ'}
                            </button>
                        )}
                    </div>
                </div>
            );
        }

        function Stage2({ goToStage, markStageComplete }) {
            const [currentQuestion, setCurrentQuestion] = useState(null);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [showFeedback, setShowFeedback] = useState(false);

            const principles = [
                {
                    icon: 'ğŸ¯',
                    title: 'ëª©ì ì˜ ì •ë‹¹ì„±',
                    content: 'AIë¥¼ ì‚¬ìš©í•˜ëŠ” ëª©ì ì´ ìœ¤ë¦¬ì ì´ê³  í•©ë²•ì ì´ì–´ì•¼ í•©ë‹ˆë‹¤. íƒ€ì¸ì—ê²Œ í•´ë¥¼ ë¼ì¹˜ê±°ë‚˜ ê·œì¹™ì„ ìœ„ë°˜í•˜ëŠ” ëª©ì ìœ¼ë¡œ AIë¥¼ ì‚¬ìš©í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.'
                },
                {
                    icon: 'âœï¸',
                    title: 'ì°½ì‘ë¬¼ì˜ ì¶œì²˜',
                    content: 'AIê°€ ìƒì„±í•œ ë‚´ìš©ì„ ì‚¬ìš©í•  ë•ŒëŠ” ì ì ˆí•œ í‘œì‹œë¥¼ í•˜ê³ , ìì‹ ì˜ ê²ƒì²˜ëŸ¼ ì œì¶œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. AIëŠ” ë„êµ¬ì¼ ë¿, ìµœì¢… ì±…ì„ì€ ì‚¬ìš©ìì—ê²Œ ìˆìŠµë‹ˆë‹¤.'
                },
                {
                    icon: 'ğŸ”',
                    title: 'ì •ë³´ì˜ ê²€ì¦',
                    content: 'AIê°€ ì œê³µí•œ ì •ë³´ë¥¼ ë¬´ì¡°ê±´ ì‹ ë¢°í•˜ì§€ ë§ê³  ë°˜ë“œì‹œ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. AIë„ ì˜ëª»ëœ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìœ¼ë©°, ìµœì¢… íŒë‹¨ì€ ì‚¬ìš©ìì˜ ëª«ì…ë‹ˆë‹¤.'
                },
                {
                    icon: 'ğŸ›¡ï¸',
                    title: 'ê°œì¸ì •ë³´ ë³´í˜¸',
                    content: 'íƒ€ì¸ì˜ ê°œì¸ì •ë³´ë‚˜ ë¯¼ê°í•œ ì •ë³´ë¥¼ AIì— ì…ë ¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. AI ì„œë¹„ìŠ¤ì— ì…ë ¥í•œ ì •ë³´ëŠ” í•™ìŠµ ë°ì´í„°ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìŒì„ ì¸ì§€í•´ì•¼ í•©ë‹ˆë‹¤.'
                },
                {
                    icon: 'âš–ï¸',
                    title: 'ê³µì •ì„±ê³¼ í¸ê²¬',
                    content: 'AIê°€ ìƒì„±í•œ ë‚´ìš©ì— í¸ê²¬ì´ë‚˜ ì°¨ë³„ì  ìš”ì†Œê°€ ì—†ëŠ”ì§€ ê²€í† í•´ì•¼ í•©ë‹ˆë‹¤. AIëŠ” í•™ìŠµ ë°ì´í„°ì˜ í¸í–¥ì„ ë°˜ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
                },
                {
                    icon: 'ğŸ¤',
                    title: 'ì‚¬íšŒì  ì±…ì„',
                    content: 'AI ì‚¬ìš©ì´ ì‚¬íšŒì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. ê°€ì§œ ë‰´ìŠ¤, í˜ì˜¤ ë°œì–¸, ì €ì‘ê¶Œ ì¹¨í•´ ë“±ì— AIë¥¼ ì´ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.'
                }
            ];

            const quizQuestions = [
                {
                    id: 'q1',
                    question: 'AIë¥¼ ì±…ì„ê° ìˆê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€?',
                    options: [
                        { id: 'a', text: 'AI ì‚¬ìš© ëª©ì ì´ ìœ¤ë¦¬ì ì´ê³  í•©ë²•ì ì¸ì§€ í™•ì¸í•œë‹¤', correct: true },
                        { id: 'b', text: 'AIë¥¼ ê°€ëŠ¥í•œ í•œ ìì£¼ ì‚¬ìš©í•œë‹¤', correct: false },
                        { id: 'c', text: 'AI ê²°ê³¼ë¥¼ í•­ìƒ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤', correct: false },
                        { id: 'd', text: 'AI ì‚¬ìš© ì‚¬ì‹¤ì„ ìˆ¨ê¸´ë‹¤', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIë¥¼ ì‚¬ìš©í•˜ëŠ” ëª©ì ì´ ìœ¤ë¦¬ì ì´ê³  í•©ë²•ì ì´ì–´ì•¼ í•˜ë©°, íƒ€ì¸ì—ê²Œ í•´ë¥¼ ë¼ì¹˜ê±°ë‚˜ ê·œì¹™ì„ ìœ„ë°˜í•˜ëŠ” ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.'
                },
                {
                    id: 'q2',
                    question: 'AIê°€ ì œê³µí•œ ì •ë³´ì— ëŒ€í•œ ì˜¬ë°”ë¥¸ íƒœë„ëŠ”?',
                    options: [
                        { id: 'a', text: 'AIëŠ” í•­ìƒ ì •í™•í•˜ë¯€ë¡œ ë¬´ì¡°ê±´ ë¯¿ëŠ”ë‹¤', correct: false },
                        { id: 'b', text: 'ì¤‘ìš”í•œ ì •ë³´ëŠ” ë‹¤ë¥¸ ì¶œì²˜ë¡œ ë°˜ë“œì‹œ í™•ì¸í•œë‹¤', correct: true },
                        { id: 'c', text: 'AI ì •ë³´ëŠ” ì ˆëŒ€ ë¯¿ì§€ ì•ŠëŠ”ë‹¤', correct: false },
                        { id: 'd', text: 'ì‹œê°„ì´ ì—†ìœ¼ë©´ í™•ì¸ ì—†ì´ ì‚¬ìš©í•œë‹¤', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIë„ ì˜ëª»ëœ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, íŠ¹íˆ ì¤‘ìš”í•œ ê²°ì •ì— ì‚¬ìš©í•  ì •ë³´ëŠ” ë°˜ë“œì‹œ ë‹¤ë¥¸ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¶œì²˜ë¡œ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.'
                },
                {
                    id: 'q3',
                    question: 'ë‹¤ìŒ ì¤‘ AI ì‚¬ìš© ì‹œ ë°˜ë“œì‹œ í”¼í•´ì•¼ í•  í–‰ë™ì€?',
                    options: [
                        { id: 'a', text: 'AIë¥¼ í•™ìŠµ ë„êµ¬ë¡œ í™œìš©í•˜ê¸°', correct: false },
                        { id: 'b', text: 'AI ê²°ê³¼ë¥¼ ê²€í† í•˜ê³  ìˆ˜ì •í•˜ê¸°', correct: false },
                        { id: 'c', text: 'íƒ€ì¸ì˜ ê°œì¸ì •ë³´ë¥¼ AIì— ì…ë ¥í•˜ê¸°', correct: true },
                        { id: 'd', text: 'AIë¥¼ ë²ˆì—­ ë„êµ¬ë¡œ ì‚¬ìš©í•˜ê¸°', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! íƒ€ì¸ì˜ ê°œì¸ì •ë³´ë‚˜ ë¯¼ê°í•œ ì •ë³´ë¥¼ AIì— ì…ë ¥í•˜ëŠ” ê²ƒì€ ê°œì¸ì •ë³´ ë³´í˜¸ ì›ì¹™ì— ì–´ê¸‹ë‚˜ë©°, ì…ë ¥í•œ ì •ë³´ê°€ í•™ìŠµ ë°ì´í„°ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
                }
            ];

            const handleStartQuiz = () => {
                setCurrentQuestion(0);
            };

            const handleAnswer = (optionId) => {
                if (showFeedback) return;
                setSelectedAnswer(optionId);
                setShowFeedback(true);
            };

            const handleNext = () => {
                if (currentQuestion < quizQuestions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    setSelectedAnswer(null);
                    setShowFeedback(false);
                } else {
                    markStageComplete('stage2');
                    goToStage(3);
                }
            };

            if (currentQuestion === null) {
                return (
                    <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                        <div className="text-center mb-8">
                            <div className="text-6xl mb-6 bounce">ğŸ“š</div>
                            <h2 className="text-3xl font-bold text-gray-800 mb-4">2ë‹¨ê³„: ì±…ì„ê° ìˆëŠ” AI ì‚¬ìš© ì›ì¹™</h2>
                            <p className="text-gray-600">AIë¥¼ ì‚¬ìš©í•  ë•Œ ì§€ì¼œì•¼ í•  6ê°€ì§€ í•µì‹¬ ì›ì¹™ì„ ë°°ì›Œë´…ì‹œë‹¤</p>
                        </div>

                        <div className="space-y-4 mb-8">
                            {principles.map((principle, idx) => (
                                <div key={idx} className="bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6 border-2 border-purple-200 fade-in">
                                    <div className="flex items-start">
                                        <div className="text-4xl mr-4">{principle.icon}</div>
                                        <div className="flex-1">
                                            <h3 className="text-xl font-bold text-purple-800 mb-2">{principle.title}</h3>
                                            <p className="text-gray-700 leading-relaxed">{principle.content}</p>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>

                        <div className="bg-blue-50 rounded-xl p-6 mb-6 border-2 border-blue-300">
                            <div className="flex items-start">
                                <span className="text-3xl mr-4">ğŸ’¡</span>
                                <div className="flex-1">
                                    <h4 className="font-bold text-blue-800 text-lg mb-2">í•µì‹¬ ê¸°ì–µí•˜ê¸°</h4>
                                    <p className="text-gray-700">
                                        AIëŠ” ê°•ë ¥í•œ ë„êµ¬ì´ì§€ë§Œ, ê·¸ ì‚¬ìš©ì— ëŒ€í•œ ì±…ì„ì€ ì–¸ì œë‚˜ <span className="font-bold text-blue-800">ì‚¬ìš©ì</span>ì—ê²Œ ìˆìŠµë‹ˆë‹¤. 
                                        AIë¥¼ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ë©´ ìš°ë¦¬ì˜ ëŠ¥ë ¥ì„ í™•ì¥í•  ìˆ˜ ìˆì§€ë§Œ, ì˜ëª» ì‚¬ìš©í•˜ë©´ ìì‹ ê³¼ íƒ€ì¸ ëª¨ë‘ì—ê²Œ í•´ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <button onClick={handleStartQuiz}
                            className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xl font-bold py-5 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all">
                            í™•ì¸ ë¬¸ì œ í’€ê¸° âœ
                        </button>
                    </div>
                );
            }

            const currentQ = quizQuestions[currentQuestion];
            const selectedOption = currentQ.options.find(o => o.id === selectedAnswer);

            return (
                <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                    <div className="text-center mb-8">
                        <div className="text-6xl mb-6 bounce">ğŸ“</div>
                        <h2 className="text-3xl font-bold text-gray-800 mb-4">2ë‹¨ê³„: í™•ì¸ ë¬¸ì œ</h2>
                        <div className="flex justify-center gap-2 mb-4">
                            {quizQuestions.map((_, idx) => (
                                <div key={idx} className={`w-3 h-3 rounded-full ${idx === currentQuestion ? 'bg-purple-500' : idx < currentQuestion ? 'bg-green-500' : 'bg-gray-300'}`} />
                            ))}
                        </div>
                        <p className="text-gray-600">ë¬¸ì œ {currentQuestion + 1} / {quizQuestions.length}</p>
                    </div>

                    <div className="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 mb-6 border-2 border-blue-200">
                        <h3 className="text-xl font-bold text-gray-800 mb-6 text-center">{currentQ.question}</h3>
                        
                        <div className="space-y-3 mb-6">
                            {currentQ.options.map((option) => (
                                <button
                                    key={option.id}
                                    onClick={() => handleAnswer(option.id)}
                                    disabled={showFeedback}
                                    className={`w-full text-left p-4 rounded-xl border-2 transition-all ${
                                        showFeedback
                                            ? option.correct
                                                ? 'bg-green-100 border-green-500'
                                                : option.id === selectedAnswer
                                                ? 'bg-red-100 border-red-500'
                                                : 'bg-gray-50 border-gray-300'
                                            : selectedAnswer === option.id
                                            ? 'bg-purple-100 border-purple-500'
                                            : 'bg-white border-gray-300 hover:border-purple-400 hover:bg-purple-50'
                                    }`}>
                                    <div className="flex items-center">
                                        <div className={`w-8 h-8 rounded-full border-2 mr-4 flex items-center justify-center font-bold flex-shrink-0 ${
                                            showFeedback && option.correct
                                                ? 'bg-green-500 border-green-500 text-white'
                                                : showFeedback && option.id === selectedAnswer
                                                ? 'bg-red-500 border-red-500 text-white'
                                                : 'border-gray-400 text-gray-600'
                                        }`}>
                                            {showFeedback && option.correct ? 'âœ“' : showFeedback && option.id === selectedAnswer ? 'âœ—' : option.id.toUpperCase()}
                                        </div>
                                        <span className="flex-1 text-gray-800">{option.text}</span>
                                    </div>
                                </button>
                            ))}
                        </div>

                        {showFeedback && (
                            <div className={`rounded-2xl p-6 mb-6 border-2 fade-in ${
                                selectedOption?.correct 
                                    ? 'bg-green-50 border-green-300' 
                                    : 'bg-orange-50 border-orange-300'
                            }`}>
                                <div className="flex items-start">
                                    <div className="text-4xl mr-4">{selectedOption?.correct ? 'ğŸ‰' : 'ğŸ’¡'}</div>
                                    <div className="flex-1">
                                        <h4 className={`text-xl font-bold mb-2 ${selectedOption?.correct ? 'text-green-800' : 'text-orange-800'}`}>
                                            {selectedOption?.correct ? 'ì •ë‹µì…ë‹ˆë‹¤!' : 'ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”!'}
                                        </h4>
                                        <p className="text-gray-700">{currentQ.explanation}</p>
                                    </div>
                                </div>
                            </div>
                        )}

                        {showFeedback && (
                            <button onClick={handleNext}
                                className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xl font-bold py-5 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all">
                                {currentQuestion < quizQuestions.length - 1 ? 'ë‹¤ìŒ ë¬¸ì œ âœ' : '3ë‹¨ê³„ë¡œ ì´ë™ âœ'}
                            </button>
                        )}
                    </div>
                </div>
            );
        }

        function Stage3({ goToStage, markStageComplete }) {
            const [checkedItems, setCheckedItems] = useState({});

            const checklistItems = [
                {
                    id: 'c1',
                    category: 'ì‚¬ìš© ì „ í™•ì¸',
                    items: [
                        { id: 'c1-1', text: 'AIë¥¼ ì‚¬ìš©í•˜ëŠ” ëª©ì ì´ ìœ¤ë¦¬ì ì´ê³  í•©ë²•ì ì¸ê°€?' },
                        { id: 'c1-2', text: 'ì´ ì‘ì—…ì— AIë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê·œì¹™ì— ì–´ê¸‹ë‚˜ì§€ ì•ŠëŠ”ê°€?' },
                        { id: 'c1-3', text: 'ê°œì¸ì •ë³´ë‚˜ ë¯¼ê°í•œ ì •ë³´ë¥¼ ì…ë ¥í•˜ì§€ ì•ŠëŠ”ê°€?' }
                    ]
                },
                {
                    id: 'c2',
                    category: 'ì‚¬ìš© ì¤‘ ì£¼ì˜',
                    items: [
                        { id: 'c2-1', text: 'AIì˜ ë‹µë³€ì„ ë¬´ì¡°ê±´ ì‹ ë¢°í•˜ì§€ ì•Šê³  ê²€ì¦í•  ê²ƒì¸ê°€?' },
                        { id: 'c2-2', text: 'AIë¥¼ í•™ìŠµ ë„êµ¬ë¡œ í™œìš©í•˜ê³  ìˆëŠ”ê°€? (ë‹¨ìˆœ ë³µì‚¬ê°€ ì•„ë‹Œ)' },
                        { id: 'c2-3', text: 'AI ê²°ê³¼ë¬¼ì— í¸ê²¬ì´ë‚˜ ì°¨ë³„ì  ìš”ì†Œê°€ ì—†ëŠ”ì§€ í™•ì¸í–ˆëŠ”ê°€?' }
                    ]
                },
                {
                    id: 'c3',
                    category: 'ì‚¬ìš© í›„ ì±…ì„',
                    items: [
                        { id: 'c3-1', text: 'AIê°€ ìƒì„±í•œ ë‚´ìš©ì˜ ì¶œì²˜ë¥¼ ëª…í™•íˆ í‘œì‹œí–ˆëŠ”ê°€?' },
                        { id: 'c3-2', text: 'ìµœì¢… ê²°ê³¼ë¬¼ì„ ì§ì ‘ ê²€í† í•˜ê³  ì±…ì„ì§ˆ ìˆ˜ ìˆëŠ”ê°€?' },
                        { id: 'c3-3', text: 'ì´ ê²°ê³¼ë¬¼ì´ íƒ€ì¸ì—ê²Œ í•´ë¥¼ ë¼ì¹˜ì§€ ì•ŠëŠ”ê°€?' }
                    ]
                }
            ];

            const handleCheck = (itemId) => {
                setCheckedItems(prev => ({
                    ...prev,
                    [itemId]: !prev[itemId]
                }));
            };

            const allChecked = checklistItems.every(category => 
                category.items.every(item => checkedItems[item.id])
            );

            const totalItems = checklistItems.reduce((sum, cat) => sum + cat.items.length, 0);
            const checkedCount = Object.values(checkedItems).filter(v => v).length;

            const handleNext = () => {
                markStageComplete('stage3');
                goToStage(4);
            };

            return (
                <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                    <div className="text-center mb-8">
                        <div className="text-6xl mb-6 bounce">âœ…</div>
                        <h2 className="text-3xl font-bold text-gray-800 mb-4">3ë‹¨ê³„: AI ì‚¬ìš© ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
                        <p className="text-gray-600 mb-4">AIë¥¼ ì‚¬ìš©í•˜ê¸° ì „, ì‚¬ìš© ì¤‘, ì‚¬ìš© í›„ì— í™•ì¸í•´ì•¼ í•  ì‚¬í•­ë“¤ì…ë‹ˆë‹¤</p>
                        <div className="inline-block bg-purple-100 px-6 py-3 rounded-full">
                            <p className="text-purple-800 font-bold text-lg">
                                {checkedCount} / {totalItems} í•­ëª© í™•ì¸ ì™„ë£Œ
                            </p>
                        </div>
                    </div>

                    <div className="space-y-6 mb-8">
                        {checklistItems.map((category) => (
                            <div key={category.id} className="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 border-2 border-purple-200">
                                <h3 className="text-xl font-bold text-purple-800 mb-4">{category.category}</h3>
                                <div className="space-y-3">
                                    {category.items.map((item) => (
                                        <div
                                            key={item.id}
                                            onClick={() => handleCheck(item.id)}
                                            className={`flex items-start p-4 rounded-xl cursor-pointer transition-all border-2 ${
                                                checkedItems[item.id]
                                                    ? 'bg-green-50 border-green-400'
                                                    : 'bg-white border-gray-300 hover:border-purple-400'
                                            }`}>
                                            <div className={`flex-shrink-0 w-6 h-6 rounded border-2 mr-4 mt-0.5 flex items-center justify-center transition-all ${
                                                checkedItems[item.id]
                                                    ? 'bg-green-500 border-green-500'
                                                    : 'bg-white border-gray-400'
                                            }`}>
                                                {checkedItems[item.id] && (
                                                    <svg className="w-4 h-4 text-white" fill="none" strokeLinecap="round" strokeLinejoin="round" strokeWidth="3" viewBox="0 0 24 24" stroke="currentColor">
                                                        <path d="M5 13l4 4L19 7"></path>
                                                    </svg>
                                                )}
                                            </div>
                                            <p className="text-gray-800 flex-1">{item.text}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        ))}
                    </div>

                    {allChecked && (
                        <div className="bg-green-100 border-2 border-green-400 rounded-2xl p-6 mb-6 fade-in">
                            <div className="flex items-center justify-center">
                                <span className="text-4xl mr-4">ğŸ‰</span>
                                <div>
                                    <h4 className="text-xl font-bold text-green-800 mb-2">ëª¨ë“  í•­ëª©ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤!</h4>
                                    <p className="text-green-700">ì´ì œ ë§ˆì§€ë§‰ ë‹¨ê³„ë¡œ ì´ë™í•˜ì—¬ ì´í•´ë„ë¥¼ ì ê²€í•´ë´…ì‹œë‹¤.</p>
                                </div>
                            </div>
                        </div>
                    )}

                    <button 
                        onClick={handleNext}
                        disabled={!allChecked}
                        className={`w-full text-xl font-bold py-5 px-8 rounded-2xl transition-all ${
                            allChecked
                                ? 'bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-2xl transform hover:scale-105'
                                : 'bg-gray-300 text-gray-500 cursor-not-allowed'
                        }`}>
                        {allChecked ? '4ë‹¨ê³„ë¡œ ì´ë™ âœ' : 'ëª¨ë“  í•­ëª©ì„ ì²´í¬í•´ì£¼ì„¸ìš”'}
                    </button>
                </div>
            );
        }

        function Stage4({ goToStage, setStage4Score, setTotalScore, stage1Score, markStageComplete }) {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [showFeedback, setShowFeedback] = useState(false);
            const [earnedScore, setEarnedScore] = useState(0);

            const questions = [
                {
                    id: 'q1',
                    question: 'AIë¥¼ ì‚¬ìš©í•˜ì—¬ í•™êµ ê³¼ì œë¥¼ ìˆ˜í–‰í•  ë•Œ ê°€ì¥ ì˜¬ë°”ë¥¸ ë°©ë²•ì€?',
                    options: [
                        { id: 'a', text: 'AI ì‚¬ìš© ì‚¬ì‹¤ì„ ìˆ¨ê¸°ê³  ì œì¶œí•œë‹¤', correct: false },
                        { id: 'b', text: 'AIë¥¼ ì°¸ê³  ìë£Œë¡œ í™œìš©í•˜ê³ , ìì‹ ì˜ ë¶„ì„ê³¼ ìƒê°ì„ ì¶”ê°€í•œë‹¤', correct: true },
                        { id: 'c', text: 'AIê°€ ìƒì„±í•œ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ì œì¶œí•œë‹¤', correct: false },
                        { id: 'd', text: 'AI ê²°ê³¼ë¥¼ ì•½ê°„ë§Œ ìˆ˜ì •í•´ì„œ ì œì¶œí•œë‹¤', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIëŠ” ì•„ì´ë””ì–´ë¥¼ ì–»ê±°ë‚˜ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ë„êµ¬ë¡œ í™œìš©í•˜ë˜, ìµœì¢… ê²°ê³¼ë¬¼ì—ëŠ” ë°˜ë“œì‹œ ìì‹ ì˜ ì´í•´ì™€ ë¶„ì„ì´ ë‹´ê²¨ì•¼ í•©ë‹ˆë‹¤.',
                    points: 15
                },
                {
                    id: 'q2',
                    question: 'AIê°€ ì œê³µí•œ ì •ë³´ì— ëŒ€í•œ ì˜¬ë°”ë¥¸ íƒœë„ëŠ”?',
                    options: [
                        { id: 'a', text: 'AI ì •ë³´ëŠ” ì ˆëŒ€ ë¯¿ì§€ ì•ŠëŠ”ë‹¤', correct: false },
                        { id: 'b', text: 'AIëŠ” í•­ìƒ ì •í™•í•˜ë¯€ë¡œ ê²€ì¦ ì—†ì´ ì‚¬ìš©í•œë‹¤', correct: false },
                        { id: 'c', text: 'ì¤‘ìš”í•œ ì •ë³´ëŠ” ë°˜ë“œì‹œ ë‹¤ë¥¸ ì¶œì²˜ë¡œ í™•ì¸í•œë‹¤', correct: true },
                        { id: 'd', text: 'ìœ ëª…í•œ AI ì„œë¹„ìŠ¤ì˜ ì •ë³´ë§Œ ë¯¿ëŠ”ë‹¤', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIë„ ì˜ëª»ëœ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, íŠ¹íˆ ì¤‘ìš”í•œ ê²°ì •ì´ë‚˜ ê³¼ì œì— ì‚¬ìš©í•  ì •ë³´ëŠ” ë°˜ë“œì‹œ ë‹¤ë¥¸ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¶œì²˜ë¡œ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.',
                    points: 15
                },
                {
                    id: 'q3',
                    question: 'AI ì‚¬ìš© ì‹œ ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ í•´ì•¼ í•  í–‰ë™ì€?',
                    options: [
                        { id: 'a', text: 'AIëŠ” ì •ë³´ë¥¼ ì €ì¥í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ê±±ì •í•˜ì§€ ì•Šì•„ë„ ëœë‹¤', correct: false },
                        { id: 'b', text: 'íƒ€ì¸ì˜ ê°œì¸ì •ë³´ë‚˜ ë¯¼ê°í•œ ì •ë³´ëŠ” AIì— ì…ë ¥í•˜ì§€ ì•ŠëŠ”ë‹¤', correct: true },
                        { id: 'c', text: 'ì¹œêµ¬ì˜ ì „í™”ë²ˆí˜¸ë¥¼ AIì— ì…ë ¥í•´ë„ ê´œì°®ë‹¤', correct: false },
                        { id: 'd', text: 'ìœ ë£Œ AI ì„œë¹„ìŠ¤ì—ëŠ” ì–´ë–¤ ì •ë³´ë“  ì…ë ¥ ê°€ëŠ¥í•˜ë‹¤', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! AI ì„œë¹„ìŠ¤ì— ì…ë ¥í•œ ì •ë³´ëŠ” ì €ì¥ë˜ê±°ë‚˜ í•™ìŠµ ë°ì´í„°ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íƒ€ì¸ì˜ ê°œì¸ì •ë³´ë‚˜ ë¯¼ê°í•œ ì •ë³´ëŠ” ì ˆëŒ€ ì…ë ¥í•˜ì§€ ë§ì•„ì•¼ í•©ë‹ˆë‹¤.',
                    points: 10
                },
                {
                    id: 'q4',
                    question: 'AIë¥¼ ì±…ì„ê° ìˆê²Œ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì˜ ì˜ë¯¸ëŠ”?',
                    options: [
                        { id: 'a', text: 'AI ì‚¬ìš©ì˜ ìµœì¢… ì±…ì„ì€ ì‚¬ìš©ì ë³¸ì¸ì—ê²Œ ìˆë‹¤', correct: true },
                        { id: 'b', text: 'AIë¥¼ ì‚¬ìš©í•˜ë©´ ì±…ì„ì„ í”¼í•  ìˆ˜ ìˆë‹¤', correct: false },
                        { id: 'c', text: 'AIì˜ ëª¨ë“  ê²°ê³¼ì— ëŒ€í•œ ì±…ì„ì€ AI ê°œë°œì‚¬ì— ìˆë‹¤', correct: false },
                        { id: 'd', text: 'AI ê²°ê³¼ë¬¼ì€ ì €ì‘ê¶Œì´ ì—†ì–´ ììœ ë¡­ê²Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤', correct: false }
                    ],
                    explanation: 'ì •ë‹µì…ë‹ˆë‹¤! AIëŠ” ë„êµ¬ì¼ ë¿ì´ë©°, AIë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ì–´ë–»ê²Œ í™œìš©í•˜ëŠ”ì§€ì— ëŒ€í•œ ìµœì¢… ì±…ì„ì€ í•­ìƒ ì‚¬ìš©ìì—ê²Œ ìˆìŠµë‹ˆë‹¤.',
                    points: 10
                }
            ];

            const currentQ = questions[currentQuestion];

            const handleAnswer = (optionId) => {
                if (showFeedback) return;
                setSelectedAnswer(optionId);
                setShowFeedback(true);

                const option = currentQ.options.find(o => o.id === optionId);
                if (option.correct) {
                    setEarnedScore(prev => prev + currentQ.points);
                }
            };

            const handleNext = () => {
                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    setSelectedAnswer(null);
                    setShowFeedback(false);
                } else {
                    setStage4Score(earnedScore);
                    setTotalScore(stage1Score + earnedScore);
                    markStageComplete('stage4');
                    goToStage(5);
                }
            };

            const selectedOption = currentQ.options.find(o => o.id === selectedAnswer);

            return (
                <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                    <div className="text-center mb-8">
                        <div className="text-6xl mb-6 bounce">ğŸ¯</div>
                        <h2 className="text-3xl font-bold text-gray-800 mb-4">4ë‹¨ê³„: ì´í•´ë„ ì ê²€</h2>
                        <div className="flex justify-center gap-2 mb-4">
                            {questions.map((_, idx) => (
                                <div key={idx} className={`w-3 h-3 rounded-full ${idx === currentQuestion ? 'bg-purple-500' : idx < currentQuestion ? 'bg-green-500' : 'bg-gray-300'}`} />
                            ))}
                        </div>
                        <p className="text-gray-600">ë¬¸ì œ {currentQuestion + 1} / {questions.length}</p>
                        <div className="mt-4 inline-block bg-purple-100 px-4 py-2 rounded-full">
                            <p className="text-purple-800 font-bold">íšë“ ì ìˆ˜: {earnedScore}ì  / 50ì </p>
                        </div>
                    </div>

                    <div className="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 mb-6 border-2 border-blue-200">
                        <h3 className="text-xl font-bold text-gray-800 mb-6 text-center">{currentQ.question}</h3>
                        
                        <div className="space-y-3 mb-6">
                            {currentQ.options.map((option) => (
                                <button
                                    key={option.id}
                                    onClick={() => handleAnswer(option.id)}
                                    disabled={showFeedback}
                                    className={`w-full text-left p-4 rounded-xl border-2 transition-all ${
                                        showFeedback
                                            ? option.correct
                                                ? 'bg-green-100 border-green-500'
                                                : option.id === selectedAnswer
                                                ? 'bg-red-100 border-red-500'
                                                : 'bg-gray-50 border-gray-300'
                                            : selectedAnswer === option.id
                                            ? 'bg-purple-100 border-purple-500'
                                            : 'bg-white border-gray-300 hover:border-purple-400 hover:bg-purple-50'
                                    }`}>
                                    <div className="flex items-center">
                                        <div className={`w-8 h-8 rounded-full border-2 mr-4 flex items-center justify-center font-bold flex-shrink-0 ${
                                            showFeedback && option.correct
                                                ? 'bg-green-500 border-green-500 text-white'
                                                : showFeedback && option.id === selectedAnswer
                                                ? 'bg-red-500 border-red-500 text-white'
                                                : 'border-gray-400 text-gray-600'
                                        }`}>
                                            {showFeedback && option.correct ? 'âœ“' : showFeedback && option.id === selectedAnswer ? 'âœ—' : option.id.toUpperCase()}
                                        </div>
                                        <span className="flex-1 text-gray-800">{option.text}</span>
                                    </div>
                                </button>
                            ))}
                        </div>

                        {showFeedback && (
                            <div className={`rounded-2xl p-6 mb-6 border-2 fade-in ${
                                selectedOption?.correct 
                                    ? 'bg-green-50 border-green-300' 
                                    : 'bg-orange-50 border-orange-300'
                            }`}>
                                <div className="flex items-start">
                                    <div className="text-4xl mr-4">{selectedOption?.correct ? 'ğŸ‰' : 'ğŸ’¡'}</div>
                                    <div className="flex-1">
                                        <h4 className={`text-xl font-bold mb-2 ${selectedOption?.correct ? 'text-green-800' : 'text-orange-800'}`}>
                                            {selectedOption?.correct ? `ì •ë‹µì…ë‹ˆë‹¤! +${currentQ.points}ì ` : 'ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”!'}
                                        </h4>
                                        <p className="text-gray-700">{currentQ.explanation}</p>
                                    </div>
                                </div>
                            </div>
                        )}

                        {showFeedback && (
                            <button onClick={handleNext}
                                className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xl font-bold py-5 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all">
                                {currentQuestion < questions.length - 1 ? 'ë‹¤ìŒ ë¬¸ì œ âœ' : 'ê²°ê³¼ í™•ì¸ âœ'}
                            </button>
                        )}
                    </div>
                </div>
            );
        }

        function Stage5({ totalScore, stage1Score, stage4Score, markStageComplete }) {
            const certRef = useRef(null);

            // 5ë‹¨ê³„ ì§„ì… ì‹œ ì™„ë£Œ í‘œì‹œë¥¼ ìœ„í•´ ì‹¤í–‰
            React.useEffect(() => {
                markStageComplete('stage5');
            }, []);

            let level = '', emoji = '', message = '';
            if (totalScore >= 80) {
                level = 'AI ì±…ì„ ì „ë¬¸ê°€';
                emoji = 'ğŸ†';
                message = 'í›Œë¥­í•©ë‹ˆë‹¤! AIë¥¼ ì±…ì„ê° ìˆê²Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì™„ë²½íˆ ì´í•´í–ˆìŠµë‹ˆë‹¤.';
            } else if (totalScore >= 60) {
                level = 'AI ì±…ì„ ì‹¤ì²œê°€';
                emoji = 'ğŸ“';
                message = 'ì˜í–ˆì–´ìš”! AI ì‚¬ìš©ì˜ ì±…ì„ì— ëŒ€í•´ ì˜ ì´í•´í•˜ê³  ìˆìŠµë‹ˆë‹¤.';
            } else {
                level = 'AI ì±…ì„ í•™ìŠµì';
                emoji = 'ğŸŒ±';
                message = 'ì¢‹ì€ ì‹œì‘ì…ë‹ˆë‹¤! ë³µìŠµì„ í†µí•´ ë” ê¹Šì´ ì´í•´í•´ë´…ì‹œë‹¤.';
            }

            const downloadCert = () => {
                html2canvas(certRef.current, { scale: 2, backgroundColor: '#ffffff' }).then(canvas => {
                    const link = document.createElement('a');
                    link.download = 'AIì±…ì„_ìˆ˜ë£Œì¦.png';
                    link.href = canvas.toDataURL();
                    link.click();
                });
            };

            return (
                <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 fade-in">
                    <div className="text-center mb-8">
                        <div className="text-7xl mb-6 bounce">{emoji}</div>
                        <h2 className="text-4xl font-bold text-gray-800 mb-6">í•™ìŠµ ì™„ë£Œ!</h2>
                    </div>

                    <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-3xl p-8 mb-6 border-2 border-purple-200">
                        <h3 className="text-2xl font-bold text-purple-800 mb-4 text-center">ğŸ“Š ìµœì¢… ì ìˆ˜</h3>
                        <div className="text-center mb-6">
                            <div className="text-6xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4">
                                {totalScore}ì 
                            </div>
                            <div className="text-xl text-gray-600">/ {MAX_SCORE}ì </div>
                        </div>

                        <div className="grid md:grid-cols-2 gap-4 mb-6">
                            <div className="bg-white rounded-xl p-4 border-2 border-purple-300">
                                <div className="text-sm text-gray-600 mb-1">1ë‹¨ê³„: ìƒí™© íŒë‹¨</div>
                                <div className="text-3xl font-bold text-purple-600">{stage1Score}ì </div>
                                <div className="text-xs text-gray-500">/ 50ì </div>
                            </div>
                            <div className="bg-white rounded-xl p-4 border-2 border-purple-300">
                                <div className="text-sm text-gray-600 mb-1">4ë‹¨ê³„: ì´í•´ë„ ì ê²€</div>
                                <div className="text-3xl font-bold text-purple-600">{stage4Score}ì </div>
                                <div className="text-xs text-gray-500">/ 50ì </div>
                            </div>
                        </div>

                        <div className="bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6">
                            <div className="text-sm text-yellow-800 mb-1">ë‹¹ì‹ ì˜ ë ˆë²¨</div>
                            <div className="text-3xl font-bold text-yellow-700 mb-2">{level}</div>
                            <p className="text-yellow-700">{message}</p>
                        </div>
                    </div>

                    <div ref={certRef} className="bg-gradient-to-br from-purple-50 via-white to-pink-50 rounded-3xl p-10 mb-8 border-4 border-purple-300 shadow-2xl">
                        <div className="text-6xl mb-4">{emoji}</div>
                        <h3 className="text-3xl font-bold text-purple-800 mb-4">ìˆ˜ë£Œì¦</h3>
                        <div className="bg-white bg-opacity-60 rounded-2xl p-8">
                            <p className="text-gray-700 text-lg mb-6">ì´ ìˆ˜ë£Œì¦ì€ ë‹¤ìŒ ì‚¬ëŒì´</p>
                            <div className="bg-yellow-100 border-2 border-yellow-400 rounded-xl p-4 mb-6">
                                <input type="text" placeholder="ì—¬ê¸°ì— ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" className="text-2xl font-bold text-center w-full bg-transparent border-none outline-none" />
                            </div>
                            <p className="text-gray-700 text-lg mb-4">
                                "AIì™€ ë‚˜ì˜ ì±…ì„" êµìœ¡ ê³¼ì •ì„ ì´ìˆ˜í•˜ê³ <br/>
                                ì±…ì„ê° ìˆëŠ” AI ì‚¬ìš© ë°©ë²•ì„ ìŠµë“í–ˆìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.
                            </p>
                            <div className="text-3xl font-bold text-purple-600 my-6">{totalScore}ì  ë‹¬ì„±</div>
                            <div className="text-2xl font-bold text-yellow-700 mb-4">{level}</div>
                        </div>
                        <p className="text-gray-500 text-sm mt-4">{new Date().toLocaleDateString('ko-KR')}</p>
                    </div>

                    <div className="bg-blue-50 rounded-2xl p-6 mb-6 border-2 border-blue-300">
                        <h3 className="text-xl font-bold text-blue-800 mb-4">ğŸ’¡ ê¸°ì–µí•˜ì„¸ìš”</h3>
                        <ul className="space-y-2 text-gray-700">
                            <li>âœ… AI ì‚¬ìš©ì˜ ìµœì¢… ì±…ì„ì€ í•­ìƒ ì‚¬ìš©ìì—ê²Œ ìˆìŠµë‹ˆë‹¤</li>
                            <li>âœ… AIë¥¼ ìœ¤ë¦¬ì ì´ê³  í•©ë²•ì ì¸ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì„¸ìš”</li>
                            <li>âœ… AIê°€ ì œê³µí•œ ì •ë³´ëŠ” ë°˜ë“œì‹œ ê²€ì¦í•˜ì„¸ìš”</li>
                            <li>âœ… íƒ€ì¸ì˜ ê°œì¸ì •ë³´ë¥¼ AIì— ì…ë ¥í•˜ì§€ ë§ˆì„¸ìš”</li>
                            <li>âœ… AIëŠ” ë„êµ¬ì…ë‹ˆë‹¤. í˜„ëª…í•˜ê²Œ í™œìš©í•˜ì„¸ìš”</li>
                        </ul>
                    </div>

                    <button onClick={downloadCert} className="w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white text-xl font-bold py-5 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all">
                        ğŸ“¥ ìˆ˜ë£Œì¦ ë‹¤ìš´ë¡œë“œí•˜ê¸°
                    </button>
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<AIResponsibility />);
    </script>
</body>
</html>